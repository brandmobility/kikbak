(function(d,m){function q(a){var f=a.length,g=b.type(a);return b.isWindow(a)?!1:1===a.nodeType&&f?!0:"array"===g||"function"!==g&&(0===f||"number"===typeof f&&0<f&&f-1 in a)}function c(a){var f=Ua[a]={};b.each(a.match(p)||[],function(a,b){f[b]=!0});return f}function e(a,f,g,n){if(b.acceptData(a)){var B=b.expando,c=a.nodeType,d=c?b.cache:a,k=c?a[B]:a[B]&&B;if(k&&d[k]&&(n||d[k].data)||g!==m||"string"!==typeof f){k||(k=c?a[B]=ia.pop()||b.guid++:B);d[k]||(d[k]=c?{}:{toJSON:b.noop});if("object"===typeof f||
"function"===typeof f)n?d[k]=b.extend(d[k],f):d[k].data=b.extend(d[k].data,f);a=d[k];n||(a.data||(a.data={}),a=a.data);g!==m&&(a[b.camelCase(f)]=g);"string"===typeof f?(g=a[f],null==g&&(g=a[b.camelCase(f)])):g=a;return g}}}function l(a,f,g){if(b.acceptData(a)){var n,B,c=a.nodeType,d=c?b.cache:a,k=c?a[b.expando]:b.expando;if(d[k]){if(f&&(n=g?d[k]:d[k].data)){b.isArray(f)?f=f.concat(b.map(f,b.camelCase)):f in n?f=[f]:(f=b.camelCase(f),f=f in n?[f]:f.split(" "));for(B=f.length;B--;)delete n[f[B]];if(g?
!r(n):!b.isEmptyObject(n))return}if(!g&&(delete d[k].data,!r(d[k])))return;c?b.cleanData([a],!0):b.support.deleteExpando||d!=d.window?delete d[k]:d[k]=null}}}function h(a,f,g){if(g===m&&1===a.nodeType)if(g="data-"+f.replace($a,"-$1").toLowerCase(),g=a.getAttribute(g),"string"===typeof g){try{g="true"===g?!0:"false"===g?!1:"null"===g?null:+g+""===g?+g:ab.test(g)?b.parseJSON(g):g}catch(n){}b.data(a,f,g)}else g=m;return g}function r(a){for(var f in a)if(("data"!==f||!b.isEmptyObject(a[f]))&&"toJSON"!==
f)return!1;return!0}function v(){return!0}function x(){return!1}function A(){try{return D.activeElement}catch(a){}}function K(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function w(a,f,g){if(b.isFunction(f))return b.grep(a,function(a,b){return!!f.call(a,b,a)!==g});if(f.nodeType)return b.grep(a,function(a){return a===f!==g});if("string"===typeof f){if(Lb.test(f))return b.filter(f,a,g);f=b.filter(f,a)}return b.grep(a,function(a){return 0<=b.inArray(a,f)!==g})}function M(a){var b=pb.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function Q(a,f){return b.nodeName(a,"table")&&b.nodeName(1===f.nodeType?f:f.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function E(a){a.type=(null!==b.find.attr(a,"type"))+"/"+a.type;return a}function ha(a){var b=Mb.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function I(a,f){for(var g,n=0;null!=(g=a[n]);n++)b._data(g,"globalEval",
!f||b._data(f[n],"globalEval"))}function ka(a,f){if(1===f.nodeType&&b.hasData(a)){var g,n,c;n=b._data(a);var u=b._data(f,n),d=n.events;if(d)for(g in delete u.handle,u.events={},d)for(n=0,c=d[g].length;n<c;n++)b.event.add(f,g,d[g][n]);u.data&&(u.data=b.extend({},u.data))}}function J(a,f){var g,n,c=0,u=typeof a.getElementsByTagName!==ea?a.getElementsByTagName(f||"*"):typeof a.querySelectorAll!==ea?a.querySelectorAll(f||"*"):m;if(!u)for(u=[],g=a.childNodes||a;null!=(n=g[c]);c++)!f||b.nodeName(n,f)?u.push(n):
b.merge(u,J(n,f));return f===m||f&&b.nodeName(a,f)?b.merge([a],u):u}function G(a){bb.test(a.type)&&(a.defaultChecked=a.checked)}function Z(a,b){if(b in a)return b;for(var g=b.charAt(0).toUpperCase()+b.slice(1),n=b,c=qb.length;c--;)if(b=qb[c]+g,b in a)return b;return n}function z(a,f){a=f||a;return"none"===b.css(a,"display")||!b.contains(a.ownerDocument,a)}function la(a,f){for(var g,n,c,u=[],d=0,k=a.length;d<k;d++)n=a[d],n.style&&(u[d]=b._data(n,"olddisplay"),g=n.style.display,f?(u[d]||"none"!==g||
(n.style.display=""),""===n.style.display&&z(n)&&(u[d]=b._data(n,"olddisplay",fa(n.nodeName)))):u[d]||(c=z(n),(g&&"none"!==g||!c)&&b._data(n,"olddisplay",c?g:b.css(n,"display"))));for(d=0;d<k;d++)n=a[d],!n.style||f&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=f?u[d]||"":"none");return a}function t(a,b,g){return(a=Nb.exec(b))?Math.max(0,a[1]-(g||0))+(a[2]||"px"):b}function ma(a,f,g,n,c){f=g===(n?"border":"content")?4:"width"===f?1:0;for(var u=0;4>f;f+=2)"margin"===g&&(u+=b.css(a,
g+Ha[f],!0,c)),n?("content"===g&&(u-=b.css(a,"padding"+Ha[f],!0,c)),"margin"!==g&&(u-=b.css(a,"border"+Ha[f]+"Width",!0,c))):(u+=b.css(a,"padding"+Ha[f],!0,c),"padding"!==g&&(u+=b.css(a,"border"+Ha[f]+"Width",!0,c)));return u}function aa(a,f,g){var n=!0,c="width"===f?a.offsetWidth:a.offsetHeight,u=Ia(a),d=b.support.boxSizing&&"border-box"===b.css(a,"boxSizing",!1,u);if(0>=c||null==c){c=Ja(a,f,u);if(0>c||null==c)c=a.style[f];if(Va.test(c))return c;n=d&&(b.support.boxSizingReliable||c===a.style[f]);
c=parseFloat(c)||0}return c+ma(a,f,g||(d?"border":"content"),n,u)+"px"}function fa(a){var f=D,g=rb[a];g||(g=Ka(a,f),"none"!==g&&g||(Qa=(Qa||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(f.documentElement),f=(Qa[0].contentWindow||Qa[0].contentDocument).document,f.write("<!doctype html><html><body>"),f.close(),g=Ka(a,f),Qa.detach()),rb[a]=g);return g}function Ka(a,f){var g=b(f.createElement(a)).appendTo(f.body),n=b.css(g[0],"display");g.remove();
return n}function T(a,f,g,n){var c;if(b.isArray(f))b.each(f,function(b,f){g||Ob.test(a)?n(a,f):T(a+"["+("object"===typeof f?b:"")+"]",f,g,n)});else if(g||"object"!==b.type(f))n(a,f);else for(c in f)T(a+"["+c+"]",f[c],g,n)}function sa(a){return function(f,g){"string"!==typeof f&&(g=f,f="*");var n,c=0,u=f.toLowerCase().match(p)||[];if(b.isFunction(g))for(;n=u[c++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(g)):(a[n]=a[n]||[]).push(g)}}function Aa(a,f,g,n){function c(k){var e;u[k]=!0;b.each(a[k]||
[],function(a,b){var k=b(f,g,n);if("string"===typeof k&&!d&&!u[k])return f.dataTypes.unshift(k),c(k),!1;if(d)return!(e=k)});return e}var u={},d=a===cb;return c(f.dataTypes[0])||!u["*"]&&c("*")}function P(a,f){var g,n,c=b.ajaxSettings.flatOptions||{};for(n in f)f[n]!==m&&((c[n]?a:g||(g={}))[n]=f[n]);g&&b.extend(!0,a,g);return a}function R(){try{return new d.XMLHttpRequest}catch(a){}}function N(){setTimeout(function(){Oa=m});return Oa=b.now()}function ta(a,b,g){for(var n,c=(Ra[b]||[]).concat(Ra["*"]),
u=0,d=c.length;u<d;u++)if(n=c[u].call(g,b,a))return n}function ua(a,f,g){var n,c=0,u=Wa.length,d=b.Deferred().always(function(){delete k.elem}),k=function(){if(n)return!1;for(var b=Oa||N(),b=Math.max(0,e.startTime+e.duration-b),f=1-(b/e.duration||0),g=0,c=e.tweens.length;g<c;g++)e.tweens[g].run(f);d.notifyWith(a,[e,f,b]);if(1>f&&c)return b;d.resolveWith(a,[e]);return!1},e=d.promise({elem:a,props:b.extend({},f),opts:b.extend(!0,{specialEasing:{}},g),originalProperties:f,originalOptions:g,startTime:Oa||
N(),duration:g.duration,tweens:[],createTween:function(f,g){var n=b.Tween(a,e.opts,f,g,e.opts.specialEasing[f]||e.opts.easing);e.tweens.push(n);return n},stop:function(b){var f=0,g=b?e.tweens.length:0;if(n)return this;for(n=!0;f<g;f++)e.tweens[f].run(1);b?d.resolveWith(a,[e,b]):d.rejectWith(a,[e,b]);return this}});g=e.props;for(Ea(g,e.opts.specialEasing);c<u;c++)if(f=Wa[c].call(e,a,g,e.opts))return f;b.map(g,ta,e);b.isFunction(e.opts.start)&&e.opts.start.call(a,e);b.fx.timer(b.extend(k,{elem:a,anim:e,
queue:e.opts.queue}));return e.progress(e.opts.progress).done(e.opts.done,e.opts.complete).fail(e.opts.fail).always(e.opts.always)}function Ea(a,f){var g,n,c,u,d;for(g in a)if(n=b.camelCase(g),c=f[n],u=a[g],b.isArray(u)&&(c=u[1],u=a[g]=u[0]),g!==n&&(a[n]=u,delete a[g]),(d=b.cssHooks[n])&&"expand"in d)for(g in u=d.expand(u),delete a[n],u)g in a||(a[g]=u[g],f[g]=c);else f[n]=c}function U(a,b,g,n,c){return new U.prototype.init(a,b,g,n,c)}function na(a,b){var g,n={height:a},c=0;for(b=b?1:0;4>c;c+=2-b)g=
Ha[c],n["margin"+g]=n["padding"+g]=a;b&&(n.opacity=n.width=a);return n}function ya(a){return b.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ra,La,ea=typeof m,Y=d.location,D=d.document,za=D.documentElement,Ba=d.jQuery,ca=d.$,V={},ia=[],L=ia.concat,ja=ia.push,W=ia.slice,O=ia.indexOf,va=V.toString,y=V.hasOwnProperty,F="1.10.2".trim,b=function(a,f){return new b.fn.init(a,f,La)},k=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,p=/\S+/g,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
H=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ba=/^[\],:{}\s]*$/,qa=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,pa=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,db=/^-ms-/,Ca=/-([\da-z])/gi,oa=function(a,b){return b.toUpperCase()},X=function(a){if(D.addEventListener||"load"===a.type||"complete"===D.readyState)da(),b.ready()},da=function(){D.addEventListener?(D.removeEventListener("DOMContentLoaded",X,!1),d.removeEventListener("load",X,!1)):(D.detachEvent("onreadystatechange",
X),d.detachEvent("onload",X))};b.fn=b.prototype={jquery:"1.10.2",constructor:b,init:function(a,f,g){var n;if(!a)return this;if("string"===typeof a){n="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:C.exec(a);if(!n||!n[1]&&f)return!f||f.jquery?(f||g).find(a):this.constructor(f).find(a);if(n[1]){if(f=f instanceof b?f[0]:f,b.merge(this,b.parseHTML(n[1],f&&f.nodeType?f.ownerDocument||f:D,!0)),H.test(n[1])&&b.isPlainObject(f))for(n in f)if(b.isFunction(this[n]))this[n](f[n]);else this.attr(n,
f[n])}else{if((f=D.getElementById(n[2]))&&f.parentNode){if(f.id!==n[2])return g.find(a);this.length=1;this[0]=f}this.context=D;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(b.isFunction(a))return g.ready(a);a.selector!==m&&(this.selector=a.selector,this.context=a.context);return b.makeArray(a,this)},selector:"",length:0,toArray:function(){return W.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=
b.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,f){return b.each(this,a,f)},ready:function(a){b.ready.promise().done(a);return this},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(b.map(this,function(b,g){return a.call(b,g,b)}))},
end:function(){return this.prevObject||this.constructor(null)},push:ja,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var a,f,g,n,c,u=arguments[0]||{},d=1,k=arguments.length,e=!1;"boolean"===typeof u&&(e=u,u=arguments[1]||{},d=2);"object"===typeof u||b.isFunction(u)||(u={});k===d&&(u=this,--d);for(;d<k;d++)if(null!=(c=arguments[d]))for(n in c)a=u[n],g=c[n],u!==g&&(e&&g&&(b.isPlainObject(g)||(f=b.isArray(g)))?(f?(f=!1,a=a&&b.isArray(a)?a:[]):a=a&&b.isPlainObject(a)?
a:{},u[n]=b.extend(e,a,g)):g!==m&&(u[n]=g));return u};b.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(a){d.$===b&&(d.$=ca);a&&d.jQuery===b&&(d.jQuery=Ba);return b},isReady:!1,readyWait:1,holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){if(!0===a?!--b.readyWait:!b.isReady){if(!D.body)return setTimeout(b.ready);b.isReady=!0;!0!==a&&0<--b.readyWait||(ra.resolveWith(D,[b]),b.fn.trigger&&b(D).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===
b.type(a)},isArray:Array.isArray||function(a){return"array"===b.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?V[va.call(a)]||"object":typeof a},isPlainObject:function(a){var f;if(!a||"object"!==b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!y.call(a,"constructor")&&!y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}if(b.support.ownLast)for(f in a)return y.call(a,
f);for(f in a);return f===m||y.call(a,f)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,f,g){if(!a||"string"!==typeof a)return null;"boolean"===typeof f&&(g=f,f=!1);f=f||D;var n=H.exec(a);g=!g&&[];if(n)return[f.createElement(n[1])];n=b.buildFragment([a],f,g);g&&b(g).remove();return b.merge([],n.childNodes)},parseJSON:function(a){if(d.JSON&&d.JSON.parse)return d.JSON.parse(a);if(null===a)return a;if("string"===typeof a&&(a=b.trim(a))&&
ba.test(a.replace(S,"@").replace(pa,"]").replace(qa,"")))return(new Function("return "+a))();b.error("Invalid JSON: "+a)},parseXML:function(a){var f,g;if(!a||"string"!==typeof a)return null;try{d.DOMParser?(g=new DOMParser,f=g.parseFromString(a,"text/xml")):(f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(a))}catch(n){f=m}f&&f.documentElement&&!f.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+a);return f},noop:function(){},globalEval:function(a){a&&b.trim(a)&&
(d.execScript||function(a){d.eval.call(d,a)})(a)},camelCase:function(a){return a.replace(db,"ms-").replace(Ca,oa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,g){var n,c=0,d=a.length;n=q(a);if(g)if(n)for(;c<d&&(n=b.apply(a[c],g),!1!==n);c++);else for(c in a){if(n=b.apply(a[c],g),!1===n)break}else if(n)for(;c<d&&(n=b.call(a[c],c,a[c]),!1!==n);c++);else for(c in a)if(n=b.call(a[c],c,a[c]),!1===n)break;return a},trim:F&&!F.call("\ufeff\u00a0")?
function(a){return null==a?"":F.call(a)}:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,f){var g=f||[];null!=a&&(q(Object(a))?b.merge(g,"string"===typeof a?[a]:a):ja.call(g,a));return g},inArray:function(a,b,g){var n;if(b){if(O)return O.call(b,a,g);n=b.length;for(g=g?0>g?Math.max(0,n+g):g:0;g<n;g++)if(g in b&&b[g]===a)return g}return-1},merge:function(a,b){var g=b.length,n=a.length,c=0;if("number"===typeof g)for(;c<g;c++)a[n++]=b[c];else for(;b[c]!==m;)a[n++]=b[c++];a.length=
n;return a},grep:function(a,b,g){var n,c=[],d=0,k=a.length;for(g=!!g;d<k;d++)n=!!b(a[d],d),g!==n&&c.push(a[d]);return c},map:function(a,b,g){var n,c=0,d=a.length,k=[];if(q(a))for(;c<d;c++)n=b(a[c],c,g),null!=n&&(k[k.length]=n);else for(c in a)n=b(a[c],c,g),null!=n&&(k[k.length]=n);return L.apply([],k)},guid:1,proxy:function(a,f){var g,n;"string"===typeof f&&(n=a[f],f=a,a=n);if(!b.isFunction(a))return m;g=W.call(arguments,2);n=function(){return a.apply(f||this,g.concat(W.call(arguments)))};n.guid=
a.guid=a.guid||b.guid++;return n},access:function(a,f,g,n,c,d,k){var e=0,p=a.length,h=null==g;if("object"===b.type(g))for(e in c=!0,g)b.access(a,f,e,g[e],!0,d,k);else if(n!==m&&(c=!0,b.isFunction(n)||(k=!0),h&&(k?(f.call(a,n),f=null):(h=f,f=function(a,f,g){return h.call(b(a),g)})),f))for(;e<p;e++)f(a[e],g,k?n:n.call(a[e],e,f(a[e],g)));return c?a:h?f.call(a):p?f(a[0],g):d},now:function(){return(new Date).getTime()},swap:function(a,b,g,n){var c,d={};for(c in b)d[c]=a.style[c],a.style[c]=b[c];g=g.apply(a,
n||[]);for(c in b)a.style[c]=d[c];return g}});b.ready.promise=function(a){if(!ra)if(ra=b.Deferred(),"complete"===D.readyState)setTimeout(b.ready);else if(D.addEventListener)D.addEventListener("DOMContentLoaded",X,!1),d.addEventListener("load",X,!1);else{D.attachEvent("onreadystatechange",X);d.attachEvent("onload",X);var f=!1;try{f=null==d.frameElement&&D.documentElement}catch(g){}f&&f.doScroll&&function B(){if(!b.isReady){try{f.doScroll("left")}catch(a){return setTimeout(B,50)}da();b.ready()}}()}return ra.promise(a)};
b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});La=b(D);(function(a,f){function g(a,b,f,g){var n,c,d,k,u;(b?b.ownerDocument||b:wa)!==q&&I(b);b=b||q;f=f||[];if(!a||"string"!==typeof a)return f;if(1!==(k=b.nodeType)&&9!==k)return[];if(z&&!g){if(n=ja.exec(a))if(d=n[1])if(9===k)if((c=b.getElementById(d))&&c.parentNode){if(c.id===d)return f.push(c),f}else return f;else{if(b.ownerDocument&&(c=b.ownerDocument.getElementById(d))&&
F(b,c)&&c.id===d)return f.push(c),f}else{if(n[2])return Q.apply(f,b.getElementsByTagName(a)),f;if((d=n[3])&&S.getElementsByClassName&&b.getElementsByClassName)return Q.apply(f,b.getElementsByClassName(d)),f}if(S.qsa&&(!y||!y.test(a))){c=n=da;d=b;u=9===k&&a;if(1===k&&"object"!==b.nodeName.toLowerCase()){k=m(a);(n=b.getAttribute("id"))?c=n.replace(na,"\\$&"):b.setAttribute("id",c);c="[id='"+c+"'] ";for(d=k.length;d--;)k[d]=c+C(k[d]);d=sa.test(a)&&b.parentNode||b;u=k.join(",")}if(u)try{return Q.apply(f,
d.querySelectorAll(u)),f}catch(e){}finally{n||b.removeAttribute("id")}}}var B;a:{a=a.replace(W,"$1");c=m(a);if(!g&&1===c.length){n=c[0]=c[0].slice(0);if(2<n.length&&"ID"===(B=n[0]).type&&S.getById&&9===b.nodeType&&z&&H.relative[n[1].type]){b=(H.find.ID(B.matches[0].replace(Y,aa),b)||[])[0];if(!b){B=f;break a}a=a.slice(n.shift().value.length)}for(k=ea.needsContext.test(a)?0:n.length;k--;){B=n[k];if(H.relative[d=B.type])break;if(d=H.find[d])if(g=d(B.matches[0].replace(Y,aa),sa.test(n[0].type)&&b.parentNode||
b)){n.splice(k,1);a=g.length&&C(n);if(!a){Q.apply(f,g);B=f;break a}break}}}w(a,c)(g,b,!z,f,sa.test(a));B=f}return B}function n(){function a(f,g){b.push(f+=" ")>H.cacheLength&&delete a[b.shift()];return a[f]=g}var b=[];return a}function c(a){a[da]=!0;return a}function d(a){var b=q.createElement("div");try{return!!a(b)}catch(f){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function k(a,b){for(var f=a.split("|"),g=a.length;g--;)H.attrHandle[f[g]]=b}function e(a,b){var f=b&&a,g=f&&1===a.nodeType&&
1===b.nodeType&&(~b.sourceIndex||ka)-(~a.sourceIndex||ka);if(g)return g;if(f)for(;f=f.nextSibling;)if(f===b)return-1;return a?1:-1}function p(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function h(a){return function(b){var f=b.nodeName.toLowerCase();return("input"===f||"button"===f)&&b.type===a}}function r(a){return c(function(b){b=+b;return c(function(f,g){for(var n,c=a([],f.length,b),d=c.length;d--;)f[n=c[d]]&&(f[n]=!(g[n]=f[n]))})})}function l(){}function m(a,b){var f,
n,c,d,k,u,e;if(k=Xa[a+" "])return b?0:k.slice(0);k=a;u=[];for(e=H.preFilter;k;){if(!f||(n=ca.exec(k)))n&&(k=k.slice(n[0].length)||k),u.push(c=[]);f=!1;if(n=$a.exec(k))f=n.shift(),c.push({value:f,type:n[0].replace(W," ")}),k=k.slice(f.length);for(d in H.filter)!(n=ea[d].exec(k))||e[d]&&!(n=e[d](n))||(f=n.shift(),c.push({value:f,type:d,matches:n}),k=k.slice(f.length));if(!f)break}return b?k.length:k?g.error(a):Xa(a,u).slice(0)}function C(a){for(var b=0,f=a.length,g="";b<f;b++)g+=a[b].value;return g}
function v(a,b,f){var g=b.dir,n=f&&"parentNode"===g,c=Sa++;return b.first?function(b,f,c){for(;b=b[g];)if(1===b.nodeType||n)return a(b,f,c)}:function(b,f,d){var k,u,e,B=G+" "+c;if(d)for(;b=b[g];){if((1===b.nodeType||n)&&a(b,f,d))return!0}else for(;b=b[g];)if(1===b.nodeType||n)if(e=b[da]||(b[da]={}),(u=e[g])&&u[0]===B){if(!0===(k=u[1])||k===oa)return!0===k}else if(u=e[g]=[B],u[1]=a(b,f,d)||oa,!0===u[1])return!0}}function s(a){return 1<a.length?function(b,f,g){for(var n=a.length;n--;)if(!a[n](b,f,g))return!1;
return!0}:a[0]}function x(a,b,f,g,n){for(var c,d=[],k=0,u=a.length,e=null!=b;k<u;k++)if(c=a[k])if(!f||f(c,g,n))d.push(c),e&&b.push(k);return d}function qa(a,b,f,n,d,k){n&&!n[da]&&(n=qa(n));d&&!d[da]&&(d=qa(d,k));return c(function(c,k,u,e){var B,p,h=[],r=[],Ga=k.length,l;if(!(l=c)){l=b||"*";for(var m=u.nodeType?[u]:u,C=[],v=0,s=m.length;v<s;v++)g(l,m[v],C);l=C}l=!a||!c&&b?l:x(l,h,a,u,e);m=f?d||(c?a:Ga||n)?[]:k:l;f&&f(l,m,u,e);if(n)for(B=x(m,r),n(B,[],u,e),u=B.length;u--;)if(p=B[u])m[r[u]]=!(l[r[u]]=
p);if(c){if(d||a){if(d){B=[];for(u=m.length;u--;)(p=m[u])&&B.push(l[u]=p);d(null,m=[],B,e)}for(u=m.length;u--;)(p=m[u])&&-1<(B=d?Ca.call(c,p):h[u])&&(c[B]=!(k[B]=p))}}else m=x(m===k?m.splice(Ga,m.length):m),d?d(null,k,m,e):Q.apply(k,m)})}function ha(a){var b,f,g,n=a.length,c=H.relative[a[0].type];f=c||H.relative[" "];for(var d=c?1:0,k=v(function(a){return a===b},f,!0),u=v(function(a){return-1<Ca.call(b,a)},f,!0),e=[function(a,f,g){return!c&&(g||f!==pa)||((b=f).nodeType?k(a,f,g):u(a,f,g))}];d<n;d++)if(f=
H.relative[a[d].type])e=[v(s(e),f)];else{f=H.filter[a[d].type].apply(null,a[d].matches);if(f[da]){for(g=++d;g<n&&!H.relative[a[g].type];g++);return qa(1<d&&s(e),1<d&&C(a.slice(0,d-1).concat({value:" "===a[d-2].type?"*":""})).replace(W,"$1"),f,d<g&&ha(a.slice(d,g)),g<n&&ha(a=a.slice(g)),g<n&&C(a))}e.push(f)}return s(e)}function t(a,b){var f=0,n=0<b.length,d=0<a.length,k=function(c,k,u,e,B){var p,h,l=[],r=0,m="0",Ga=c&&[],C=null!=B,v=pa,s=c||d&&H.find.TAG("*",B&&k.parentNode||k),ob=G+=null==v?1:Math.random()||
0.1;C&&(pa=k!==q&&k,oa=f);for(;null!=(B=s[m]);m++){if(d&&B){for(p=0;h=a[p++];)if(h(B,k,u)){e.push(B);break}C&&(G=ob,oa=++f)}n&&((B=!h&&B)&&r--,c&&Ga.push(B))}r+=m;if(n&&m!==r){for(p=0;h=b[p++];)h(Ga,l,k,u);if(c){if(0<r)for(;m--;)Ga[m]||l[m]||(l[m]=db.call(e));l=x(l)}Q.apply(e,l);C&&!c&&0<l.length&&1<r+b.length&&g.uniqueSort(e)}C&&(G=ob,pa=v);return Ga};return n?c(k):k}var ba,S,oa,H,X,E,w,pa,A,I,q,K,z,y,J,D,F,da="sizzle"+-new Date,wa=a.document,G=0,Sa=0,Z=n(),Xa=n(),M=n(),L=!1,P=function(a,b){a===
b&&(L=!0);return 0},N=typeof f,ka=-2147483648,R={}.hasOwnProperty,O=[],db=O.pop,ab=O.push,Q=O.push,T=O.slice,Ca=O.indexOf||function(a){for(var b=0,f=this.length;b<f;b++)if(this[b]===a)return b;return-1},U="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Da="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)[\\x20\\t\\r\\n\\f]*\\]",V=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
Da.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ca=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,$a=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,sa=/[\x20\t\r\n\f]*[+~]/,eb=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*)[\\x20\\t\\r\\n\\f]*\\]","g"),Ua=RegExp(V),ia=RegExp("^"+U+"$"),ea={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),
ATTR:RegExp("^"+Da),PSEUDO:RegExp("^"+V),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},fa=/^[^{]+\{\s*\[native \w/,ja=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,la=/^(?:input|select|textarea|button)$/i,ma=/^h\d$/i,na=/'|\\/g,Y=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),aa=function(a,b,f){a="0x"+b-65536;return a!==a||f?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Q.apply(O=T.call(wa.childNodes),wa.childNodes),O[wa.childNodes.length].nodeType}catch(sb){Q={apply:O.length?function(a,b){ab.apply(a,T.call(b))}:function(a,
b){for(var f=a.length,g=0;a[f++]=b[g++];);a.length=f-1}}}E=g.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};S=g.support={};I=g.setDocument=function(a){var b=a?a.ownerDocument||a:wa;a=b.defaultView;if(b===q||9!==b.nodeType||!b.documentElement)return q;q=b;K=b.documentElement;z=!E(b);a&&a.attachEvent&&a!==a.top&&a.attachEvent("onbeforeunload",function(){I()});S.attributes=d(function(a){a.className="i";return!a.getAttribute("className")});S.getElementsByTagName=
d(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});S.getElementsByClassName=d(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});S.getById=d(function(a){K.appendChild(a).id=da;return!b.getElementsByName||!b.getElementsByName(da).length});S.getById?(H.find.ID=function(a,b){if(typeof b.getElementById!==N&&z){var f=b.getElementById(a);return f&&f.parentNode?[f]:[]}},
H.filter.ID=function(a){var b=a.replace(Y,aa);return function(a){return a.getAttribute("id")===b}}):(delete H.find.ID,H.filter.ID=function(a){var b=a.replace(Y,aa);return function(a){return(a=typeof a.getAttributeNode!==N&&a.getAttributeNode("id"))&&a.value===b}});H.find.TAG=S.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==N)return b.getElementsByTagName(a)}:function(a,b){var f,g=[],n=0,c=b.getElementsByTagName(a);if("*"===a){for(;f=c[n++];)1===f.nodeType&&g.push(f);return g}return c};
H.find.CLASS=S.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==N&&z)return b.getElementsByClassName(a)};J=[];y=[];if(S.qsa=fa.test(b.querySelectorAll))d(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||y.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||y.push(":checked")}),
d(function(a){var f=b.createElement("input");f.setAttribute("type","hidden");a.appendChild(f).setAttribute("t","");a.querySelectorAll("[t^='']").length&&y.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||y.push(":enabled",":disabled");a.querySelectorAll("*,:x");y.push(",.*:")});(S.matchesSelector=fa.test(D=K.webkitMatchesSelector||K.mozMatchesSelector||K.oMatchesSelector||K.msMatchesSelector))&&d(function(a){S.disconnectedMatch=D.call(a,"div");D.call(a,"[s!='']:x");
J.push("!=",V)});y=y.length&&RegExp(y.join("|"));J=J.length&&RegExp(J.join("|"));F=fa.test(K.contains)||K.compareDocumentPosition?function(a,b){var f=9===a.nodeType?a.documentElement:a,g=b&&b.parentNode;return a===g||!!(g&&1===g.nodeType&&(f.contains?f.contains(g):a.compareDocumentPosition&&a.compareDocumentPosition(g)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};P=K.compareDocumentPosition?function(a,f){if(a===f)return L=!0,0;var g=f.compareDocumentPosition&&a.compareDocumentPosition&&
a.compareDocumentPosition(f);return g?g&1||!S.sortDetached&&f.compareDocumentPosition(a)===g?a===b||F(wa,a)?-1:f===b||F(wa,f)?1:A?Ca.call(A,a)-Ca.call(A,f):0:g&4?-1:1:a.compareDocumentPosition?-1:1}:function(a,f){var g,n=0;g=a.parentNode;var c=f.parentNode,d=[a],k=[f];if(a===f)return L=!0,0;if(!g||!c)return a===b?-1:f===b?1:g?-1:c?1:A?Ca.call(A,a)-Ca.call(A,f):0;if(g===c)return e(a,f);for(g=a;g=g.parentNode;)d.unshift(g);for(g=f;g=g.parentNode;)k.unshift(g);for(;d[n]===k[n];)n++;return n?e(d[n],k[n]):
d[n]===wa?-1:k[n]===wa?1:0};return b};g.matches=function(a,b){return g(a,null,null,b)};g.matchesSelector=function(a,b){(a.ownerDocument||a)!==q&&I(a);b=b.replace(eb,"='$1']");if(S.matchesSelector&&z&&!(J&&J.test(b)||y&&y.test(b)))try{var f=D.call(a,b);if(f||S.disconnectedMatch||a.document&&11!==a.document.nodeType)return f}catch(n){}return 0<g(b,q,null,[a]).length};g.contains=function(a,b){(a.ownerDocument||a)!==q&&I(a);return F(a,b)};g.attr=function(a,b){(a.ownerDocument||a)!==q&&I(a);var g=H.attrHandle[b.toLowerCase()],
g=g&&R.call(H.attrHandle,b.toLowerCase())?g(a,b,!z):f;return g===f?S.attributes||!z?a.getAttribute(b):(g=a.getAttributeNode(b))&&g.specified?g.value:null:g};g.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};g.uniqueSort=function(a){var b,f=[],g=0,n=0;L=!S.detectDuplicates;A=!S.sortStable&&a.slice(0);a.sort(P);if(L){for(;b=a[n++];)b===a[n]&&(g=f.push(n));for(;g--;)a.splice(f[g],1)}return a};X=g.getText=function(a){var b,f="",g=0;b=a.nodeType;if(!b)for(;b=a[g];g++)f+=X(b);
else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)f+=X(a)}else if(3===b||4===b)return a.nodeValue;return f};H=g.selectors={cacheLength:50,createPseudo:c,match:ea,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Y,aa);a[3]=(a[4]||a[5]||"").replace(Y,aa);"~="===a[2]&&(a[3]=" "+a[3]+
" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||g.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&g.error(a[0]);return a},PSEUDO:function(a){var b,g=!a[5]&&a[2];if(ea.CHILD.test(a[0]))return null;a[3]&&a[4]!==f?a[2]=a[4]:g&&Ua.test(g)&&(b=m(g,!0))&&(b=g.indexOf(")",g.length-b)-g.length)&&(a[0]=a[0].slice(0,b),a[2]=g.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(Y,
aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Z[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&Z(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==N&&a.getAttribute("class")||"")})},ATTR:function(a,b,f){return function(n){n=g.attr(n,a);if(null==n)return"!="===b;if(!b)return!0;n+="";return"="===b?n===f:"!="===b?n!==f:"^="===
b?f&&0===n.indexOf(f):"*="===b?f&&-1<n.indexOf(f):"$="===b?f&&n.slice(-f.length)===f:"~="===b?-1<(" "+n+" ").indexOf(f):"|="===b?n===f||n.slice(0,f.length+1)===f+"-":!1}},CHILD:function(a,b,f,g,n){var c="nth"!==a.slice(0,3),d="last"!==a.slice(-4),k="of-type"===b;return 1===g&&0===n?function(a){return!!a.parentNode}:function(b,f,u){var e,B,p,h,l;f=c!==d?"nextSibling":"previousSibling";var m=b.parentNode,r=k&&b.nodeName.toLowerCase();u=!u&&!k;if(m){if(c){for(;f;){for(B=b;B=B[f];)if(k?B.nodeName.toLowerCase()===
r:1===B.nodeType)return!1;l=f="only"===a&&!l&&"nextSibling"}return!0}l=[d?m.firstChild:m.lastChild];if(d&&u)for(u=m[da]||(m[da]={}),e=u[a]||[],h=e[0]===G&&e[1],p=e[0]===G&&e[2],B=h&&m.childNodes[h];B=++h&&B&&B[f]||(p=h=0)||l.pop();){if(1===B.nodeType&&++p&&B===b){u[a]=[G,h,p];break}}else if(u&&(e=(b[da]||(b[da]={}))[a])&&e[0]===G)p=e[1];else for(;(B=++h&&B&&B[f]||(p=h=0)||l.pop())&&((k?B.nodeName.toLowerCase()!==r:1!==B.nodeType)||!++p||(u&&((B[da]||(B[da]={}))[a]=[G,p]),B!==b)););p-=n;return p===
g||0===p%g&&0<=p/g}}},PSEUDO:function(a,b){var f,n=H.pseudos[a]||H.setFilters[a.toLowerCase()]||g.error("unsupported pseudo: "+a);return n[da]?n(b):1<n.length?(f=[a,a,"",b],H.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,f){for(var g,c=n(a,b),d=c.length;d--;)g=Ca.call(a,c[d]),a[g]=!(f[g]=c[d])}):function(a){return n(a,0,f)}):n}},pseudos:{not:c(function(a){var b=[],f=[],g=w(a.replace(W,"$1"));return g[da]?c(function(a,b,f,n){n=g(a,null,n,[]);for(var c=a.length;c--;)if(f=n[c])a[c]=!(b[c]=
f)}):function(a,n,c){b[0]=a;g(b,null,c,f);return!f.pop()}}),has:c(function(a){return function(b){return 0<g(a,b).length}}),contains:c(function(a){return function(b){return-1<(b.textContent||b.innerText||X(b)).indexOf(a)}}),lang:c(function(a){ia.test(a||"")||g.error("unsupported lang: "+a);a=a.replace(Y,aa).toLowerCase();return function(b){var f;do if(f=z?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return f=f.toLowerCase(),f===a||0===f.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);
return!1}}),target:function(b){var f=a.location&&a.location.hash;return f&&f.slice(1)===b.id},root:function(a){return a===K},focus:function(a){return a===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===
a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!H.pseudos.empty(a)},header:function(a){return ma.test(a.nodeName)},input:function(a){return la.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===
a.type)},first:r(function(){return[0]}),last:r(function(a,b){return[b-1]}),eq:r(function(a,b,f){return[0>f?f+b:f]}),even:r(function(a,b){for(var f=0;f<b;f+=2)a.push(f);return a}),odd:r(function(a,b){for(var f=1;f<b;f+=2)a.push(f);return a}),lt:r(function(a,b,f){for(b=0>f?f+b:f;0<=--b;)a.push(b);return a}),gt:r(function(a,b,f){for(f=0>f?f+b:f;++f<b;)a.push(f);return a})}};H.pseudos.nth=H.pseudos.eq;for(ba in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[ba]=p(ba);for(ba in{submit:!0,
reset:!0})H.pseudos[ba]=h(ba);l.prototype=H.filters=H.pseudos;H.setFilters=new l;w=g.compile=function(a,b){var f,g=[],n=[],c=M[a+" "];if(!c){b||(b=m(a));for(f=b.length;f--;)c=ha(b[f]),c[da]?g.push(c):n.push(c);c=M(a,t(n,g))}return c};S.sortStable=da.split("").sort(P).join("")===da;S.detectDuplicates=L;I();S.sortDetached=d(function(a){return a.compareDocumentPosition(q.createElement("div"))&1});d(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||k("type|href|height|width",
function(a,b,f){if(!f)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});S.attributes&&d(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||k("value",function(a,b,f){if(!f&&"input"===a.nodeName.toLowerCase())return a.defaultValue});d(function(a){return null==a.getAttribute("disabled")})||k("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,
b,f){var g;if(!f)return(g=a.getAttributeNode(b))&&g.specified?g.value:!0===a[b]?b.toLowerCase():null});b.find=g;b.expr=g.selectors;b.expr[":"]=b.expr.pseudos;b.unique=g.uniqueSort;b.text=g.getText;b.isXMLDoc=g.isXML;b.contains=g.contains})(d);var Ua={};b.Callbacks=function(a){a="string"===typeof a?Ua[a]||c(a):b.extend({},a);var f,g,n,d,k,e,p=[],h=!a.once&&[],l=function(b){g=a.memory&&b;n=!0;k=e||0;e=0;d=p.length;for(f=!0;p&&k<d;k++)if(!1===p[k].apply(b[0],b[1])&&a.stopOnFalse){g=!1;break}f=!1;p&&
(h?h.length&&l(h.shift()):g?p=[]:r.disable())},r={add:function(){if(p){var n=p.length;(function Pb(f){b.each(f,function(f,g){var n=b.type(g);"function"===n?a.unique&&r.has(g)||p.push(g):g&&g.length&&"string"!==n&&Pb(g)})})(arguments);f?d=p.length:g&&(e=n,l(g))}return this},remove:function(){p&&b.each(arguments,function(a,g){for(var n;-1<(n=b.inArray(g,p,n));)p.splice(n,1),f&&(n<=d&&d--,n<=k&&k--)});return this},has:function(a){return a?-1<b.inArray(a,p):!(!p||!p.length)},empty:function(){p=[];d=0;
return this},disable:function(){p=h=g=m;return this},disabled:function(){return!p},lock:function(){h=m;g||r.disable();return this},locked:function(){return!h},fireWith:function(a,b){!p||n&&!h||(b=b||[],b=[a,b.slice?b.slice():b],f?h.push(b):l(b));return this},fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!n}};return r};b.extend({Deferred:function(a){var f=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],
["notify","progress",b.Callbacks("memory")]],g="pending",n={state:function(){return g},always:function(){c.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return b.Deferred(function(g){b.each(f,function(f,d){var k=d[0],e=b.isFunction(a[f])&&a[f];c[d[1]](function(){var a=e&&e.apply(this,arguments);if(a&&b.isFunction(a.promise))a.promise().done(g.resolve).fail(g.reject).progress(g.notify);else g[k+"With"](this===n?g.promise():this,e?[a]:arguments)})});a=null}).promise()},
promise:function(a){return null!=a?b.extend(a,n):n}},c={};n.pipe=n.then;b.each(f,function(a,b){var d=b[2],k=b[3];n[b[1]]=d.add;k&&d.add(function(){g=k},f[a^1][2].disable,f[2][2].lock);c[b[0]]=function(){c[b[0]+"With"](this===c?n:this,arguments);return this};c[b[0]+"With"]=d.fireWith});n.promise(c);a&&a.call(c,c);return c},when:function(a){var f=0,g=W.call(arguments),n=g.length,c=1!==n||a&&b.isFunction(a.promise)?n:0,d=1===c?a:b.Deferred(),k=function(a,b,f){return function(g){b[a]=this;f[a]=1<arguments.length?
W.call(arguments):g;f===e?d.notifyWith(b,f):--c||d.resolveWith(b,f)}},e,p,h;if(1<n)for(e=Array(n),p=Array(n),h=Array(n);f<n;f++)g[f]&&b.isFunction(g[f].promise)?g[f].promise().done(k(f,h,g)).fail(d.reject).progress(k(f,p,e)):--c;c||d.resolveWith(h,g);return d.promise()}});b.support=function(a){var f,g,n,c,k,e,p=D.createElement("div");p.setAttribute("className","t");p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";f=p.getElementsByTagName("*")||[];g=p.getElementsByTagName("a")[0];
if(!g||!g.style||!f.length)return a;n=D.createElement("select");c=n.appendChild(D.createElement("option"));f=p.getElementsByTagName("input")[0];g.style.cssText="top:1px;float:left;opacity:.5";a.getSetAttribute="t"!==p.className;a.leadingWhitespace=3===p.firstChild.nodeType;a.tbody=!p.getElementsByTagName("tbody").length;a.htmlSerialize=!!p.getElementsByTagName("link").length;a.style=/top/.test(g.getAttribute("style"));a.hrefNormalized="/a"===g.getAttribute("href");a.opacity=/^0.5/.test(g.style.opacity);
a.cssFloat=!!g.style.cssFloat;a.checkOn=!!f.value;a.optSelected=c.selected;a.enctype=!!D.createElement("form").enctype;a.html5Clone="<:nav></:nav>"!==D.createElement("nav").cloneNode(!0).outerHTML;a.inlineBlockNeedsLayout=!1;a.shrinkWrapBlocks=!1;a.pixelPosition=!1;a.deleteExpando=!0;a.noCloneEvent=!0;a.reliableMarginRight=!0;a.boxSizingReliable=!0;f.checked=!0;a.noCloneChecked=f.cloneNode(!0).checked;n.disabled=!0;a.optDisabled=!c.disabled;try{delete p.test}catch(h){a.deleteExpando=!1}f=D.createElement("input");
f.setAttribute("value","");a.input=""===f.getAttribute("value");f.value="t";f.setAttribute("type","radio");a.radioValue="t"===f.value;f.setAttribute("checked","t");f.setAttribute("name","t");g=D.createDocumentFragment();g.appendChild(f);a.appendChecked=f.checked;a.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked;p.attachEvent&&(p.attachEvent("onclick",function(){a.noCloneEvent=!1}),p.cloneNode(!0).click());for(e in{submit:!0,change:!0,focusin:!0})p.setAttribute(g="on"+e,"t"),a[e+"Bubbles"]=
g in d||!1===p.attributes[g].expando;p.style.backgroundClip="content-box";p.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===p.style.backgroundClip;for(e in b(a))break;a.ownLast="0"!==e;b(function(){var f,g,n=D.getElementsByTagName("body")[0];n&&(f=D.createElement("div"),f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",n.appendChild(f).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",g=p.getElementsByTagName("td"),
g[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===g[0].offsetHeight,g[0].style.display="",g[1].style.display="none",a.reliableHiddenOffsets=k&&0===g[0].offsetHeight,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.swap(n,null!=n.style.zoom?{zoom:1}:{},function(){a.boxSizing=4===p.offsetWidth}),d.getComputedStyle&&(a.pixelPosition=
"1%"!==(d.getComputedStyle(p,null)||{}).top,a.boxSizingReliable="4px"===(d.getComputedStyle(p,null)||{width:"4px"}).width,g=p.appendChild(D.createElement("div")),g.style.cssText=p.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g.style.marginRight=g.style.width="0",p.style.width="1px",a.reliableMarginRight=!parseFloat((d.getComputedStyle(g,null)||{}).marginRight)),typeof p.style.zoom!==ea&&(p.innerHTML="",
p.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==p.offsetWidth,a.inlineBlockNeedsLayout&&(n.style.zoom=1)),n.removeChild(f),f=p=g=g=null)});f=n=g=c=g=f=null;return a}({});var ab=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,$a=/([A-Z])/g;
b.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?b.cache[a[b.expando]]:a[b.expando];return!!a&&!r(a)},data:function(a,b,g){return e(a,b,g)},removeData:function(a,b){return l(a,b)},_data:function(a,b,g){return e(a,b,g,!0)},_removeData:function(a,b){return l(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var f=a.nodeName&&b.noData[a.nodeName.toLowerCase()];return!f||!0!==f&&a.getAttribute("classid")===
f}});b.fn.extend({data:function(a,f){var g,n,c=null,d=0,k=this[0];if(a===m){if(this.length&&(c=b.data(k),1===k.nodeType&&!b._data(k,"parsedAttrs"))){for(g=k.attributes;d<g.length;d++)n=g[d].name,0===n.indexOf("data-")&&(n=b.camelCase(n.slice(5)),h(k,n,c[n]));b._data(k,"parsedAttrs",!0)}return c}return"object"===typeof a?this.each(function(){b.data(this,a)}):1<arguments.length?this.each(function(){b.data(this,a,f)}):k?h(k,a,b.data(k,a)):null},removeData:function(a){return this.each(function(){b.removeData(this,
a)})}});b.extend({queue:function(a,f,g){var n;if(a)return f=(f||"fx")+"queue",n=b._data(a,f),g&&(!n||b.isArray(g)?n=b._data(a,f,b.makeArray(g)):n.push(g)),n||[]},dequeue:function(a,f){f=f||"fx";var g=b.queue(a,f),n=g.length,c=g.shift(),d=b._queueHooks(a,f),k=function(){b.dequeue(a,f)};"inprogress"===c&&(c=g.shift(),n--);c&&("fx"===f&&g.unshift("inprogress"),delete d.stop,c.call(a,k,d));!n&&d&&d.empty.fire()},_queueHooks:function(a,f){var g=f+"queueHooks";return b._data(a,g)||b._data(a,g,{empty:b.Callbacks("once memory").add(function(){b._removeData(a,
f+"queue");b._removeData(a,g)})})}});b.fn.extend({queue:function(a,f){var g=2;"string"!==typeof a&&(f=a,a="fx",g--);return arguments.length<g?b.queue(this[0],a):f===m?this:this.each(function(){var g=b.queue(this,a,f);b._queueHooks(this,a);"fx"===a&&"inprogress"!==g[0]&&b.dequeue(this,a)})},dequeue:function(a){return this.each(function(){b.dequeue(this,a)})},delay:function(a,f){a=b.fx?b.fx.speeds[a]||a:a;return this.queue(f||"fx",function(b,f){var c=setTimeout(b,a);f.stop=function(){clearTimeout(c)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,f){var g,n=1,c=b.Deferred(),d=this,k=this.length,e=function(){--n||c.resolveWith(d,[d])};"string"!==typeof a&&(f=a,a=m);for(a=a||"fx";k--;)(g=b._data(d[k],a+"queueHooks"))&&g.empty&&(n++,g.empty.add(e));e();return c.promise(f)}});var Da,wa,Sa=/[\t\r\n\f]/g,Xa=/\r/g,eb=/^(?:input|select|textarea|button|object)$/i,sb=/^(?:a|area)$/i,fb=/^(?:checked|selected)$/i,Ma=b.support.getSetAttribute,Ya=b.support.input;b.fn.extend({attr:function(a,
f){return b.access(this,b.attr,a,f,1<arguments.length)},removeAttr:function(a){return this.each(function(){b.removeAttr(this,a)})},prop:function(a,f){return b.access(this,b.prop,a,f,1<arguments.length)},removeProp:function(a){a=b.propFix[a]||a;return this.each(function(){try{this[a]=m,delete this[a]}catch(b){}})},addClass:function(a){var f,g,n,c,d,k=0,e=this.length;f="string"===typeof a&&a;if(b.isFunction(a))return this.each(function(f){b(this).addClass(a.call(this,f,this.className))});if(f)for(f=
(a||"").match(p)||[];k<e;k++)if(g=this[k],n=1===g.nodeType&&(g.className?(" "+g.className+" ").replace(Sa," "):" ")){for(d=0;c=f[d++];)0>n.indexOf(" "+c+" ")&&(n+=c+" ");g.className=b.trim(n)}return this},removeClass:function(a){var f,g,n,c,d,k=0,e=this.length;f=0===arguments.length||"string"===typeof a&&a;if(b.isFunction(a))return this.each(function(f){b(this).removeClass(a.call(this,f,this.className))});if(f)for(f=(a||"").match(p)||[];k<e;k++)if(g=this[k],n=1===g.nodeType&&(g.className?(" "+g.className+
" ").replace(Sa," "):"")){for(d=0;c=f[d++];)for(;0<=n.indexOf(" "+c+" ");)n=n.replace(" "+c+" "," ");g.className=a?b.trim(n):""}return this},toggleClass:function(a,f){var g=typeof a;return"boolean"===typeof f&&"string"===g?f?this.addClass(a):this.removeClass(a):b.isFunction(a)?this.each(function(g){b(this).toggleClass(a.call(this,g,this.className,f),f)}):this.each(function(){if("string"===g)for(var f,c=0,d=b(this),k=a.match(p)||[];f=k[c++];)d.hasClass(f)?d.removeClass(f):d.addClass(f);else if(g===
ea||"boolean"===g)this.className&&b._data(this,"__className__",this.className),this.className=this.className||!1===a?"":b._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,g=this.length;b<g;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Sa," ").indexOf(a))return!0;return!1},val:function(a){var f,g,c,d=this[0];if(arguments.length)return c=b.isFunction(a),this.each(function(f){1===this.nodeType&&(f=c?a.call(this,f,b(this).val()):a,null==f?f="":"number"===
typeof f?f+="":b.isArray(f)&&(f=b.map(f,function(a){return null==a?"":a+""})),g=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],g&&"set"in g&&g.set(this,f,"value")!==m||(this.value=f))});if(d){if((g=b.valHooks[d.type]||b.valHooks[d.nodeName.toLowerCase()])&&"get"in g&&(f=g.get(d,"value"))!==m)return f;f=d.value;return"string"===typeof f?f.replace(Xa,""):null==f?"":f}}});b.extend({valHooks:{option:{get:function(a){var f=b.find.attr(a,"value");return null!=f?f:a.text}},select:{get:function(a){for(var f,
g=a.options,c=a.selectedIndex,d=(a="select-one"===a.type||0>c)?null:[],k=a?c+1:g.length,e=0>c?k:a?c:0;e<k;e++)if(f=g[e],!(!f.selected&&e!==c||(b.support.optDisabled?f.disabled:null!==f.getAttribute("disabled"))||f.parentNode.disabled&&b.nodeName(f.parentNode,"optgroup"))){f=b(f).val();if(a)return f;d.push(f)}return d},set:function(a,f){for(var g,c,d=a.options,k=b.makeArray(f),e=d.length;e--;)if(c=d[e],c.selected=0<=b.inArray(b(c).val(),k))g=!0;g||(a.selectedIndex=-1);return k}}},attr:function(a,f,
g){var c,d,k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k){if(typeof a.getAttribute===ea)return b.prop(a,f,g);1===k&&b.isXMLDoc(a)||(f=f.toLowerCase(),c=b.attrHooks[f]||(b.expr.match.bool.test(f)?wa:Da));if(g!==m)if(null===g)b.removeAttr(a,f);else{if(c&&"set"in c&&(d=c.set(a,g,f))!==m)return d;a.setAttribute(f,g+"");return g}else{if(c&&"get"in c&&null!==(d=c.get(a,f)))return d;d=b.find.attr(a,f);return null==d?m:d}}},removeAttr:function(a,f){var g,c,d=0,k=f&&f.match(p);if(k&&1===a.nodeType)for(;g=k[d++];)c=
b.propFix[g]||g,b.expr.match.bool.test(g)?Ya&&Ma||!fb.test(g)?a[c]=!1:a[b.camelCase("default-"+g)]=a[c]=!1:b.attr(a,g,""),a.removeAttribute(Ma?g:c)},attrHooks:{type:{set:function(a,f){if(!b.support.radioValue&&"radio"===f&&b.nodeName(a,"input")){var g=a.value;a.setAttribute("type",f);g&&(a.value=g);return f}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,f,g){var c,d,k;k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k){if(k=1!==k||!b.isXMLDoc(a))f=b.propFix[f]||f,d=b.propHooks[f];return g!==
m?d&&"set"in d&&(c=d.set(a,g,f))!==m?c:a[f]=g:d&&"get"in d&&null!==(c=d.get(a,f))?c:a[f]}},propHooks:{tabIndex:{get:function(a){var f=b.find.attr(a,"tabindex");return f?parseInt(f,10):eb.test(a.nodeName)||sb.test(a.nodeName)&&a.href?0:-1}}}});wa={set:function(a,f,g){!1===f?b.removeAttr(a,g):Ya&&Ma||!fb.test(g)?a.setAttribute(!Ma&&b.propFix[g]||g,g):a[b.camelCase("default-"+g)]=a[g]=!0;return g}};b.each(b.expr.match.bool.source.match(/\w+/g),function(a,f){var g=b.expr.attrHandle[f]||b.find.attr;b.expr.attrHandle[f]=
Ya&&Ma||!fb.test(f)?function(a,f,c){var d=b.expr.attrHandle[f];a=c?m:(b.expr.attrHandle[f]=m)!=g(a,f,c)?f.toLowerCase():null;b.expr.attrHandle[f]=d;return a}:function(a,f,g){return g?m:a[b.camelCase("default-"+f)]?f.toLowerCase():null}});Ya&&Ma||(b.attrHooks.value={set:function(a,f,g){if(b.nodeName(a,"input"))a.defaultValue=f;else return Da&&Da.set(a,f,g)}});Ma||(Da={set:function(a,b,g){var c=a.getAttributeNode(g);c||a.setAttributeNode(c=a.ownerDocument.createAttribute(g));c.value=b+="";return"value"===
g||b===a.getAttribute(g)?b:m}},b.expr.attrHandle.id=b.expr.attrHandle.name=b.expr.attrHandle.coords=function(a,b,g){var c;return g?m:(c=a.getAttributeNode(b))&&""!==c.value?c.value:null},b.valHooks.button={get:function(a,b){var g=a.getAttributeNode(b);return g&&g.specified?g.value:m},set:Da.set},b.attrHooks.contenteditable={set:function(a,b,g){Da.set(a,""===b?!1:b,g)}},b.each(["width","height"],function(a,f){b.attrHooks[f]={set:function(a,b){if(""===b)return a.setAttribute(f,"auto"),b}}}));b.support.hrefNormalized||
b.each(["href","src"],function(a,f){b.propHooks[f]={get:function(a){return a.getAttribute(f,4)}}});b.support.style||(b.attrHooks.style={get:function(a){return a.style.cssText||m},set:function(a,b){return a.style.cssText=b+""}});b.support.optSelected||(b.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}});b.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){b.propFix[this.toLowerCase()]=this});b.support.enctype||(b.propFix.enctype="encoding");b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(a,f){if(b.isArray(f))return a.checked=0<=b.inArray(b(a).val(),f)}};b.support.checkOn||(b.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var gb=/^(?:input|select|textarea)$/i,Qb=/^key/,Rb=/^(?:mouse|contextmenu)|click/,tb=/^(?:focusinfocus|focusoutblur)$/,ub=/^([^.]*)(?:\.(.+)|)$/;b.event={global:{},
add:function(a,f,g,c,d){var k,e,h,l,r,C,v,s,x;if(h=b._data(a)){g.handler&&(l=g,g=l.handler,d=l.selector);g.guid||(g.guid=b.guid++);(e=h.events)||(e=h.events={});(r=h.handle)||(r=h.handle=function(a){return typeof b===ea||a&&b.event.triggered===a.type?m:b.event.dispatch.apply(r.elem,arguments)},r.elem=a);f=(f||"").match(p)||[""];for(h=f.length;h--;)k=ub.exec(f[h])||[],s=C=k[1],x=(k[2]||"").split(".").sort(),s&&(k=b.event.special[s]||{},s=(d?k.delegateType:k.bindType)||s,k=b.event.special[s]||{},C=
b.extend({type:s,origType:C,data:c,handler:g,guid:g.guid,selector:d,needsContext:d&&b.expr.match.needsContext.test(d),namespace:x.join(".")},l),(v=e[s])||(v=e[s]=[],v.delegateCount=0,k.setup&&!1!==k.setup.call(a,c,x,r)||(a.addEventListener?a.addEventListener(s,r,!1):a.attachEvent&&a.attachEvent("on"+s,r))),k.add&&(k.add.call(a,C),C.handler.guid||(C.handler.guid=g.guid)),d?v.splice(v.delegateCount++,0,C):v.push(C),b.event.global[s]=!0);a=null}},remove:function(a,f,g,c,d){var k,e,h,r,l,m,C,v,s,x,H,
qa=b.hasData(a)&&b._data(a);if(qa&&(m=qa.events)){f=(f||"").match(p)||[""];for(l=f.length;l--;)if(h=ub.exec(f[l])||[],s=H=h[1],x=(h[2]||"").split(".").sort(),s){C=b.event.special[s]||{};s=(c?C.delegateType:C.bindType)||s;v=m[s]||[];h=h[2]&&RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)");for(r=k=v.length;k--;)e=v[k],!d&&H!==e.origType||g&&g.guid!==e.guid||h&&!h.test(e.namespace)||c&&!(c===e.selector||"**"===c&&e.selector)||(v.splice(k,1),e.selector&&v.delegateCount--,C.remove&&C.remove.call(a,
e));r&&!v.length&&(C.teardown&&!1!==C.teardown.call(a,x,qa.handle)||b.removeEvent(a,s,qa.handle),delete m[s])}else for(s in m)b.event.remove(a,s+f[l],g,c,!0);b.isEmptyObject(m)&&(delete qa.handle,b._removeData(a,"events"))}},trigger:function(a,f,g,c){var k,e,p,h,l,r,C=[g||D],v=y.call(a,"type")?a.type:a;l=y.call(a,"namespace")?a.namespace.split("."):[];p=k=g=g||D;if(3!==g.nodeType&&8!==g.nodeType&&!tb.test(v+b.event.triggered)&&(0<=v.indexOf(".")&&(l=v.split("."),v=l.shift(),l.sort()),e=0>v.indexOf(":")&&
"on"+v,a=a[b.expando]?a:new b.Event(v,"object"===typeof a&&a),a.isTrigger=c?2:3,a.namespace=l.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=m,a.target||(a.target=g),f=null==f?[a]:b.makeArray(f,[a]),l=b.event.special[v]||{},c||!l.trigger||!1!==l.trigger.apply(g,f))){if(!c&&!l.noBubble&&!b.isWindow(g)){h=l.delegateType||v;tb.test(h+v)||(p=p.parentNode);for(;p;p=p.parentNode)C.push(p),k=p;k===(g.ownerDocument||D)&&C.push(k.defaultView||k.parentWindow||
d)}for(r=0;(p=C[r++])&&!a.isPropagationStopped();)a.type=1<r?h:l.bindType||v,(k=(b._data(p,"events")||{})[a.type]&&b._data(p,"handle"))&&k.apply(p,f),(k=e&&p[e])&&b.acceptData(p)&&k.apply&&!1===k.apply(p,f)&&a.preventDefault();a.type=v;if(!(c||a.isDefaultPrevented()||l._default&&!1!==l._default.apply(C.pop(),f))&&b.acceptData(g)&&e&&g[v]&&!b.isWindow(g)){(k=g[e])&&(g[e]=null);b.event.triggered=v;try{g[v]()}catch(s){}b.event.triggered=m;k&&(g[e]=k)}return a.result}},dispatch:function(a){a=b.event.fix(a);
var f,g,c,d,k=[],e=W.call(arguments);f=(b._data(this,"events")||{})[a.type]||[];var p=b.event.special[a.type]||{};e[0]=a;a.delegateTarget=this;if(!p.preDispatch||!1!==p.preDispatch.call(this,a)){k=b.event.handlers.call(this,a,f);for(f=0;(c=k[f++])&&!a.isPropagationStopped();)for(a.currentTarget=c.elem,d=0;(g=c.handlers[d++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(g.namespace))a.handleObj=g,a.data=g.data,g=((b.event.special[g.origType]||{}).handle||g.handler).apply(c.elem,
e),g!==m&&!1===(a.result=g)&&(a.preventDefault(),a.stopPropagation());p.postDispatch&&p.postDispatch.call(this,a);return a.result}},handlers:function(a,f){var g,c,d,k,e=[],p=f.delegateCount,h=a.target;if(p&&h.nodeType&&(!a.button||"click"!==a.type))for(;h!=this;h=h.parentNode||this)if(1===h.nodeType&&(!0!==h.disabled||"click"!==a.type)){d=[];for(k=0;k<p;k++)c=f[k],g=c.selector+" ",d[g]===m&&(d[g]=c.needsContext?0<=b(g,this).index(h):b.find(g,this,null,[h]).length),d[g]&&d.push(c);d.length&&e.push({elem:h,
handlers:d})}p<f.length&&e.push({elem:this,handlers:f.slice(p)});return e},fix:function(a){if(a[b.expando])return a;var f,g,c;f=a.type;var d=a,k=this.fixHooks[f];k||(this.fixHooks[f]=k=Rb.test(f)?this.mouseHooks:Qb.test(f)?this.keyHooks:{});c=k.props?this.props.concat(k.props):this.props;a=new b.Event(d);for(f=c.length;f--;)g=c[f],a[g]=d[g];a.target||(a.target=d.srcElement||D);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return k.filter?k.filter(a,d):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var g,c,d=b.button,k=b.fromElement;null==a.pageX&&null!=b.clientX&&(g=a.target.ownerDocument||D,c=g.documentElement,g=g.body,a.pageX=b.clientX+(c&&c.scrollLeft||g&&g.scrollLeft||0)-(c&&c.clientLeft||
g&&g.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||g&&g.scrollTop||0)-(c&&c.clientTop||g&&g.clientTop||0));!a.relatedTarget&&k&&(a.relatedTarget=k===a.target?b.toElement:k);a.which||d===m||(a.which=d&1?1:d&2?3:d&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==A()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===A()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(b.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return b.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==m&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,f,g,c){a=b.extend(new b.Event,g,{type:a,isSimulated:!0,originalEvent:{}});c?b.event.trigger(a,null,f):b.event.dispatch.call(f,a);a.isDefaultPrevented()&&g.preventDefault()}};b.removeEvent=D.removeEventListener?function(a,b,g){a.removeEventListener&&a.removeEventListener(b,
g,!1)}:function(a,b,g){b="on"+b;a.detachEvent&&(typeof a[b]===ea&&(a[b]=null),a.detachEvent(b,g))};b.Event=function(a,f){if(!(this instanceof b.Event))return new b.Event(a,f);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?v:x):this.type=a;f&&b.extend(this,f);this.timeStamp=a&&a.timeStamp||b.now();this[b.expando]=!0};b.Event.prototype={isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=v;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=v;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=v;this.stopPropagation()}};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,f){b.event.special[a]={delegateType:f,bindType:f,handle:function(a){var c,
d=a.relatedTarget,k=a.handleObj;if(!d||d!==this&&!b.contains(this,d))a.type=k.origType,c=k.handler.apply(this,arguments),a.type=f;return c}}});b.support.submitBubbles||(b.event.special.submit={setup:function(){if(b.nodeName(this,"form"))return!1;b.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=b.nodeName(a,"input")||b.nodeName(a,"button")?a.form:m)&&!b._data(a,"submitBubbles")&&(b.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),b._data(a,"submitBubbles",!0))})},
postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&b.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(b.nodeName(this,"form"))return!1;b.event.remove(this,"._submit")}});b.support.changeBubbles||(b.event.special.change={setup:function(){if(gb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)b.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),
b.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);b.event.simulate("change",this,a,!0)});return!1}b.event.add(this,"beforeactivate._change",function(a){a=a.target;gb.test(a.nodeName)&&!b._data(a,"changeBubbles")&&(b.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||b.event.simulate("change",this.parentNode,a,!0)}),b._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||
a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){b.event.remove(this,"._change");return!gb.test(this.nodeName)}});b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(a,f){var g=0,c=function(a){b.event.simulate(f,a.target,b.event.fix(a),!0)};b.event.special[f]={setup:function(){0===g++&&D.addEventListener(a,c,!0)},teardown:function(){0===--g&&D.removeEventListener(a,c,!0)}}});b.fn.extend({on:function(a,
f,g,c,d){var k,e;if("object"===typeof a){"string"!==typeof f&&(g=g||f,f=m);for(k in a)this.on(k,f,g,a[k],d);return this}null==g&&null==c?(c=f,g=f=m):null==c&&("string"===typeof f?(c=g,g=m):(c=g,g=f,f=m));if(!1===c)c=x;else if(!c)return this;1===d&&(e=c,c=function(a){b().off(a);return e.apply(this,arguments)},c.guid=e.guid||(e.guid=b.guid++));return this.each(function(){b.event.add(this,a,c,g,f)})},one:function(a,b,g,c){return this.on(a,b,g,c,1)},off:function(a,f,g){var c;if(a&&a.preventDefault&&a.handleObj)return c=
a.handleObj,b(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"===typeof a){for(c in a)this.off(c,f,a[c]);return this}if(!1===f||"function"===typeof f)g=f,f=m;!1===g&&(g=x);return this.each(function(){b.event.remove(this,a,g,f)})},trigger:function(a,f){return this.each(function(){b.event.trigger(a,f,this)})},triggerHandler:function(a,f){var g=this[0];if(g)return b.event.trigger(a,f,g,!0)}});var Lb=/^.[^:#\[\.,]*$/,Sb=/^(?:parents|prev(?:Until|All))/,
vb=b.expr.match.needsContext,Tb={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(a){var f,g=[],c=this,d=c.length;if("string"!==typeof a)return this.pushStack(b(a).filter(function(){for(f=0;f<d;f++)if(b.contains(c[f],this))return!0}));for(f=0;f<d;f++)b.find(a,c[f],g);g=this.pushStack(1<d?b.unique(g):g);g.selector=this.selector?this.selector+" "+a:a;return g},has:function(a){var f,g=b(a,this),c=g.length;return this.filter(function(){for(f=0;f<c;f++)if(b.contains(this,g[f]))return!0})},
not:function(a){return this.pushStack(w(this,a||[],!0))},filter:function(a){return this.pushStack(w(this,a||[],!1))},is:function(a){return!!w(this,"string"===typeof a&&vb.test(a)?b(a):a||[],!1).length},closest:function(a,f){for(var g,c=0,d=this.length,k=[],e=vb.test(a)||"string"!==typeof a?b(a,f||this.context):0;c<d;c++)for(g=this[c];g&&g!==f;g=g.parentNode)if(11>g.nodeType&&(e?-1<e.index(g):1===g.nodeType&&b.find.matchesSelector(g,a))){k.push(g);break}return this.pushStack(1<k.length?b.unique(k):
k)},index:function(a){return a?"string"===typeof a?b.inArray(this[0],b(a)):b.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,f){var g="string"===typeof a?b(a,f):b.makeArray(a&&a.nodeType?[a]:a),g=b.merge(this.get(),g);return this.pushStack(b.unique(g))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});b.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return b.dir(a,
"parentNode")},parentsUntil:function(a,f,g){return b.dir(a,"parentNode",g)},next:function(a){return K(a,"nextSibling")},prev:function(a){return K(a,"previousSibling")},nextAll:function(a){return b.dir(a,"nextSibling")},prevAll:function(a){return b.dir(a,"previousSibling")},nextUntil:function(a,f,g){return b.dir(a,"nextSibling",g)},prevUntil:function(a,f,g){return b.dir(a,"previousSibling",g)},siblings:function(a){return b.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return b.sibling(a.firstChild)},
contents:function(a){return b.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:b.merge([],a.childNodes)}},function(a,f){b.fn[a]=function(g,c){var d=b.map(this,f,g);"Until"!==a.slice(-5)&&(c=g);c&&"string"===typeof c&&(d=b.filter(c,d));1<this.length&&(Tb[a]||(d=b.unique(d)),Sb.test(a)&&(d=d.reverse()));return this.pushStack(d)}});b.extend({filter:function(a,f,g){var c=f[0];g&&(a=":not("+a+")");return 1===f.length&&1===c.nodeType?b.find.matchesSelector(c,a)?[c]:[]:b.find.matches(a,b.grep(f,
function(a){return 1===a.nodeType}))},dir:function(a,f,g){var c=[];for(a=a[f];a&&9!==a.nodeType&&(g===m||1!==a.nodeType||!b(a).is(g));)1===a.nodeType&&c.push(a),a=a[f];return c},sibling:function(a,b){for(var g=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&g.push(a);return g}});var pb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ub=/ jQuery\d+="(?:null|\d+)"/g,wb=RegExp("<(?:"+pb+")[\\s/>]",
"i"),hb=/^\s+/,xb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,yb=/<([\w:]+)/,zb=/<tbody/i,Vb=/<|&#?\w+;/,Wb=/<(?:script|style|link)/i,bb=/^(?:checkbox|radio)$/i,Xb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ab=/^$|\/(?:java|ecma)script/i,Mb=/^true\/(.*)/,Yb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,xa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ib=M(D).appendChild(D.createElement("div"));xa.optgroup=xa.option;xa.tbody=xa.tfoot=xa.colgroup=xa.caption=xa.thead;xa.th=xa.td;b.fn.extend({text:function(a){return b.access(this,function(a){return a===m?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||D).createTextNode(a))},
null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Q(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Q(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,f){for(var g,c=a?b.filter(a,this):this,d=0;null!=(g=c[d]);d++)f||1!==g.nodeType||b.cleanData(J(g)),g.parentNode&&(f&&b.contains(g.ownerDocument,g)&&I(J(g,"script")),g.parentNode.removeChild(g));return this},empty:function(){for(var a,f=0;null!=(a=this[f]);f++){for(1===a.nodeType&&b.cleanData(J(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&b.nodeName(a,"select")&&(a.options.length=0)}return this},
clone:function(a,f){a=null==a?!1:a;f=null==f?a:f;return this.map(function(){return b.clone(this,a,f)})},html:function(a){return b.access(this,function(a){var g=this[0]||{},c=0,d=this.length;if(a===m)return 1===g.nodeType?g.innerHTML.replace(Ub,""):m;if("string"===typeof a&&!(Wb.test(a)||!b.support.htmlSerialize&&wb.test(a)||!b.support.leadingWhitespace&&hb.test(a)||xa[(yb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(xb,"<$1></$2>");try{for(;c<d;c++)g=this[c]||{},1===g.nodeType&&(b.cleanData(J(g,
!1)),g.innerHTML=a);g=0}catch(k){}}g&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=b.map(this,function(a){return[a.nextSibling,a.parentNode]}),f=0;this.domManip(arguments,function(g){var c=a[f++],d=a[f++];d&&(c&&c.parentNode!==d&&(c=this.nextSibling),b(this).remove(),d.insertBefore(g,c))},!0);return f?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,f,g){a=L.apply([],a);var c,d,k,e,p=0,h=this.length,l=this,r=h-1,m=a[0],v=b.isFunction(m);
if(v||!(1>=h||"string"!==typeof m||b.support.checkClone)&&Xb.test(m))return this.each(function(b){var c=l.eq(b);v&&(a[0]=m.call(this,b,c.html()));c.domManip(a,f,g)});if(h&&(e=b.buildFragment(a,this[0].ownerDocument,!1,!g&&this),c=e.firstChild,1===e.childNodes.length&&(e=c),c)){k=b.map(J(e,"script"),E);for(d=k.length;p<h;p++)c=e,p!==r&&(c=b.clone(c,!0,!0),d&&b.merge(k,J(c,"script"))),f.call(this[p],c,p);if(d)for(e=k[k.length-1].ownerDocument,b.map(k,ha),p=0;p<d;p++)c=k[p],Ab.test(c.type||"")&&!b._data(c,
"globalEval")&&b.contains(e,c)&&(c.src?b._evalUrl(c.src):b.globalEval((c.text||c.textContent||c.innerHTML||"").replace(Yb,"")));e=c=null}return this}});b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,f){b.fn[a]=function(a){for(var c=0,d=[],k=b(a),e=k.length-1;c<=e;c++)a=c===e?this:this.clone(!0),b(k[c])[f](a),ja.apply(d,a.get());return this.pushStack(d)}});b.extend({clone:function(a,f,g){var c,d,k,e,p,h=b.contains(a.ownerDocument,
a);b.support.html5Clone||b.isXMLDoc(a)||!wb.test("<"+a.nodeName+">")?k=a.cloneNode(!0):(ib.innerHTML=a.outerHTML,ib.removeChild(k=ib.firstChild));if(!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||b.isXMLDoc(a)))for(c=J(k),p=J(a),e=0;null!=(d=p[e]);++e)if(c[e]){var l=c[e],r=void 0,m=void 0,v=void 0;if(1===l.nodeType){r=l.nodeName.toLowerCase();if(!b.support.noCloneEvent&&l[b.expando]){v=b._data(l);for(m in v.events)b.removeEvent(l,m,v.handle);l.removeAttribute(b.expando)}if("script"===
r&&l.text!==d.text)E(l).text=d.text,ha(l);else if("object"===r)l.parentNode&&(l.outerHTML=d.outerHTML),b.support.html5Clone&&d.innerHTML&&!b.trim(l.innerHTML)&&(l.innerHTML=d.innerHTML);else if("input"===r&&bb.test(d.type))l.defaultChecked=l.checked=d.checked,l.value!==d.value&&(l.value=d.value);else if("option"===r)l.defaultSelected=l.selected=d.defaultSelected;else if("input"===r||"textarea"===r)l.defaultValue=d.defaultValue}}if(f)if(g)for(p=p||J(a),c=c||J(k),e=0;null!=(d=p[e]);e++)ka(d,c[e]);else ka(a,
k);c=J(k,"script");0<c.length&&I(c,!h&&J(a,"script"));return k},buildFragment:function(a,f,g,c){for(var d,k,e,p,h,l,r=a.length,m=M(f),v=[],C=0;C<r;C++)if((k=a[C])||0===k)if("object"===b.type(k))b.merge(v,k.nodeType?[k]:k);else if(Vb.test(k)){e=e||m.appendChild(f.createElement("div"));p=(yb.exec(k)||["",""])[1].toLowerCase();l=xa[p]||xa._default;e.innerHTML=l[1]+k.replace(xb,"<$1></$2>")+l[2];for(d=l[0];d--;)e=e.lastChild;!b.support.leadingWhitespace&&hb.test(k)&&v.push(f.createTextNode(hb.exec(k)[0]));
if(!b.support.tbody)for(d=(k="table"!==p||zb.test(k)?"<table>"!==l[1]||zb.test(k)?0:e:e.firstChild)&&k.childNodes.length;d--;)b.nodeName(h=k.childNodes[d],"tbody")&&!h.childNodes.length&&k.removeChild(h);b.merge(v,e.childNodes);for(e.textContent="";e.firstChild;)e.removeChild(e.firstChild);e=m.lastChild}else v.push(f.createTextNode(k));e&&m.removeChild(e);b.support.appendChecked||b.grep(J(v,"input"),G);for(C=0;k=v[C++];)if(!c||-1===b.inArray(k,c))if(a=b.contains(k.ownerDocument,k),e=J(m.appendChild(k),
"script"),a&&I(e),g)for(d=0;k=e[d++];)Ab.test(k.type||"")&&g.push(k);return m},cleanData:function(a,f){for(var g,c,d,k,e=0,p=b.expando,h=b.cache,l=b.support.deleteExpando,r=b.event.special;null!=(g=a[e]);e++)if(f||b.acceptData(g))if(k=(d=g[p])&&h[d]){if(k.events)for(c in k.events)r[c]?b.event.remove(g,c):b.removeEvent(g,c,k.handle);h[d]&&(delete h[d],l?delete g[p]:typeof g.removeAttribute!==ea?g.removeAttribute(p):g[p]=null,ia.push(d))}},_evalUrl:function(a){return b.ajax({url:a,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0})}});b.fn.extend({wrapAll:function(a){if(b.isFunction(a))return this.each(function(f){b(this).wrapAll(a.call(this,f))});if(this[0]){var f=b(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&f.insertBefore(this[0]);f.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return b.isFunction(a)?this.each(function(f){b(this).wrapInner(a.call(this,f))}):this.each(function(){var f=
b(this),c=f.contents();c.length?c.wrapAll(a):f.append(a)})},wrap:function(a){var f=b.isFunction(a);return this.each(function(c){b(this).wrapAll(f?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()}});var Qa,Ia,Ja,jb=/alpha\([^)]*\)/i,Zb=/opacity\s*=\s*([^)]*)/,$b=/^(top|right|bottom|left)$/,ac=/^(none|table(?!-c[ea]).+)/,Bb=/^margin/,Nb=RegExp("^("+k+")(.*)$","i"),Va=RegExp("^("+k+")(?!px)[a-z%]+$","i"),
bc=RegExp("^([+-])=("+k+")","i"),rb={BODY:"block"},cc={position:"absolute",visibility:"hidden",display:"block"},Cb={letterSpacing:0,fontWeight:400},Ha=["Top","Right","Bottom","Left"],qb=["Webkit","O","Moz","ms"];b.fn.extend({css:function(a,f){return b.access(this,function(a,f,c){var d,k={},e=0;if(b.isArray(f)){d=Ia(a);for(c=f.length;e<c;e++)k[f[e]]=b.css(a,f[e],!1,d);return k}return c!==m?b.style(a,f,c):b.css(a,f)},a,f,1<arguments.length)},show:function(){return la(this,!0)},hide:function(){return la(this)},
toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){z(this)?b(this).show():b(this).hide()})}});b.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,f,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var k,
e,p,h=b.camelCase(f),l=a.style;f=b.cssProps[h]||(b.cssProps[h]=Z(l,h));p=b.cssHooks[f]||b.cssHooks[h];if(c!==m){if(e=typeof c,"string"===e&&(k=bc.exec(c))&&(c=(k[1]+1)*k[2]+parseFloat(b.css(a,f)),e="number"),!(null==c||"number"===e&&isNaN(c)||("number"!==e||b.cssNumber[h]||(c+="px"),b.support.clearCloneStyle||""!==c||0!==f.indexOf("background")||(l[f]="inherit"),p&&"set"in p&&(c=p.set(a,c,d))===m)))try{l[f]=c}catch(r){}}else return p&&"get"in p&&(k=p.get(a,!1,d))!==m?k:l[f]}},css:function(a,f,c,d){var k,
e;e=b.camelCase(f);f=b.cssProps[e]||(b.cssProps[e]=Z(a.style,e));(e=b.cssHooks[f]||b.cssHooks[e])&&"get"in e&&(k=e.get(a,!0,c));k===m&&(k=Ja(a,f,d));"normal"===k&&f in Cb&&(k=Cb[f]);return""===c||c?(a=parseFloat(k),!0===c||b.isNumeric(a)?a||0:k):k}});d.getComputedStyle?(Ia=function(a){return d.getComputedStyle(a,null)},Ja=function(a,f,c){var d,k=(c=c||Ia(a))?c.getPropertyValue(f)||c[f]:m,e=a.style;c&&(""!==k||b.contains(a.ownerDocument,a)||(k=b.style(a,f)),Va.test(k)&&Bb.test(f)&&(a=e.width,f=e.minWidth,
d=e.maxWidth,e.minWidth=e.maxWidth=e.width=k,k=c.width,e.width=a,e.minWidth=f,e.maxWidth=d));return k}):D.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,k,e=(c=c||Ia(a))?c[b]:m,p=a.style;null==e&&p&&p[b]&&(e=p[b]);if(Va.test(e)&&!$b.test(b)){c=p.left;if(k=(d=a.runtimeStyle)&&d.left)d.left=a.currentStyle.left;p.left="fontSize"===b?"1em":e;e=p.pixelLeft+"px";p.left=c;k&&(d.left=k)}return""===e?"auto":e});b.each(["height","width"],function(a,f){b.cssHooks[f]=
{get:function(a,c,d){if(c)return 0===a.offsetWidth&&ac.test(b.css(a,"display"))?b.swap(a,cc,function(){return aa(a,f,d)}):aa(a,f,d)},set:function(a,c,d){var k=d&&Ia(a);return t(a,c,d?ma(a,f,d,b.support.boxSizing&&"border-box"===b.css(a,"boxSizing",!1,k),k):0)}}});b.support.opacity||(b.cssHooks.opacity={get:function(a,b){return Zb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,f){var c=a.style,d=a.currentStyle,k=b.isNumeric(f)?
"alpha(opacity="+100*f+")":"",e=d&&d.filter||c.filter||"";c.zoom=1;if((1<=f||""===f)&&""===b.trim(e.replace(jb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===f||d&&!d.filter))return;c.filter=jb.test(e)?e.replace(jb,k):e+" "+k}});b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(a,f){if(f)return b.swap(a,{display:"inline-block"},Ja,[a,"marginRight"])}});!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(a,f){b.cssHooks[f]={get:function(a,
c){if(c)return c=Ja(a,f),Va.test(c)?b(a).position()[f]+"px":c}}})});b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||b.css(a,"display"))},b.expr.filters.visible=function(a){return!b.expr.filters.hidden(a)});b.each({margin:"",padding:"",border:"Width"},function(a,f){b.cssHooks[a+f]={expand:function(b){var c=0,d={};for(b="string"===typeof b?b.split(" "):[b];4>c;c++)d[a+Ha[c]+f]=
b[c]||b[c-2]||b[0];return d}};Bb.test(a)||(b.cssHooks[a+f].set=t)});var dc=/%20/g,Ob=/\[\]$/,Db=/\r?\n/g,ec=/^(?:submit|button|image|reset|file)$/i,fc=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=b.prop(this,"elements");return a?b.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!b(this).is(":disabled")&&fc.test(this.nodeName)&&!ec.test(a)&&(this.checked||
!bb.test(a))}).map(function(a,f){var c=b(this).val();return null==c?null:b.isArray(c)?b.map(c,function(a){return{name:f.name,value:a.replace(Db,"\r\n")}}):{name:f.name,value:c.replace(Db,"\r\n")}}).get()}});b.param=function(a,f){var c,d=[],k=function(a,f){f=b.isFunction(f)?f():null==f?"":f;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(f)};f===m&&(f=b.ajaxSettings&&b.ajaxSettings.traditional);if(b.isArray(a)||a.jquery&&!b.isPlainObject(a))b.each(a,function(){k(this.name,this.value)});else for(c in a)T(c,
a[c],f,k);return d.join("&").replace(dc,"+")};b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,f){b.fn[f]=function(a,b){return 0<arguments.length?this.on(f,null,a,b):this.trigger(f)}});b.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,
b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Na,Fa,kb=b.now(),lb=/\?/,gc=/#.*$/,Eb=/([?&])_=[^&]*/,hc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ic=/^(?:GET|HEAD)$/,jc=/^\/\//,Fb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Gb=b.fn.load,Hb={},cb={},Ib="*/".concat("*");try{Fa=Y.href}catch(nc){Fa=D.createElement("a"),Fa.href="",Fa=Fa.href}Na=Fb.exec(Fa.toLowerCase())||[];b.fn.load=
function(a,f,c){if("string"!==typeof a&&Gb)return Gb.apply(this,arguments);var d,k,e,p=this,h=a.indexOf(" ");0<=h&&(d=a.slice(h,a.length),a=a.slice(0,h));b.isFunction(f)?(c=f,f=m):f&&"object"===typeof f&&(e="POST");0<p.length&&b.ajax({url:a,type:e,dataType:"html",data:f}).done(function(a){k=arguments;p.html(d?b("<div>").append(b.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){p.each(c,k||[a.responseText,b,a])});return this};b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,f){b.fn[f]=function(a){return this.on(f,a)}});b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Na[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ib,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",
text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,f){return f?P(P(a,b.ajaxSettings),f):P(b.ajaxSettings,a)},ajaxPrefilter:sa(Hb),ajaxTransport:sa(cb),ajax:function(a,f){function c(a,f,g,d){var k,p,n,C;C=f;if(2!==oa){oa=2;l&&clearTimeout(l);v=m;h=d||"";w.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(g){n=s;for(var B=w,ba,t,X,E,A=n.contents,pa=n.dataTypes;"*"===pa[0];)pa.shift(),
t===m&&(t=n.mimeType||B.getResponseHeader("Content-Type"));if(t)for(E in A)if(A[E]&&A[E].test(t)){pa.unshift(E);break}if(pa[0]in g)X=pa[0];else{for(E in g){if(!pa[0]||n.converters[E+" "+pa[0]]){X=E;break}ba||(ba=E)}X=X||ba}X?(X!==pa[0]&&pa.unshift(X),n=g[X]):n=void 0}a:{g=s;ba=n;t=w;X=d;var q,K,y,B={},A=g.dataTypes.slice();if(A[1])for(K in g.converters)B[K.toLowerCase()]=g.converters[K];for(E=A.shift();E;)if(g.responseFields[E]&&(t[g.responseFields[E]]=ba),!y&&X&&g.dataFilter&&(ba=g.dataFilter(ba,
g.dataType)),y=E,E=A.shift())if("*"===E)E=y;else if("*"!==y&&y!==E){K=B[y+" "+E]||B["* "+E];if(!K)for(q in B)if(n=q.split(" "),n[1]===E&&(K=B[y+" "+n[0]]||B["* "+n[0]])){!0===K?K=B[q]:!0!==B[q]&&(E=n[0],A.unshift(n[1]));break}if(!0!==K)if(K&&g["throws"])ba=K(ba);else try{ba=K(ba)}catch(z){n={state:"parsererror",error:K?z:"No conversion from "+y+" to "+E};break a}}n={state:"success",data:ba}}if(d)s.ifModified&&((C=w.getResponseHeader("Last-Modified"))&&(b.lastModified[e]=C),(C=w.getResponseHeader("etag"))&&
(b.etag[e]=C)),204===a||"HEAD"===s.type?C="nocontent":304===a?C="notmodified":(C=n.state,k=n.data,p=n.error,d=!p);else if(p=C,a||!C)C="error",0>a&&(a=0);w.status=a;w.statusText=(f||C)+"";d?H.resolveWith(x,[k,C,w]):H.rejectWith(x,[w,C,p]);w.statusCode(ha);ha=m;r&&qa.trigger(d?"ajaxSuccess":"ajaxError",[w,s,d?k:p]);S.fireWith(x,[w,C]);r&&(qa.trigger("ajaxComplete",[w,s]),--b.active||b.event.trigger("ajaxStop"))}}"object"===typeof a&&(f=a,a=m);f=f||{};var d,k,e,h,l,r,v,C,s=b.ajaxSetup({},f),x=s.context||
s,qa=s.context&&(x.nodeType||x.jquery)?b(x):b.event,H=b.Deferred(),S=b.Callbacks("once memory"),ha=s.statusCode||{},ba={},t={},oa=0,X="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===oa){if(!C)for(C={};b=hc.exec(h);)C[b[1].toLowerCase()]=b[2];b=C[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===oa?h:null},setRequestHeader:function(a,b){var f=a.toLowerCase();oa||(a=t[f]=t[f]||a,ba[a]=b);return this},overrideMimeType:function(a){oa||(s.mimeType=
a);return this},statusCode:function(a){var b;if(a)if(2>oa)for(b in a)ha[b]=[ha[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){a=a||X;v&&v.abort(a);c(0,a);return this}};H.promise(w).complete=S.add;w.success=w.done;w.error=w.fail;s.url=((a||s.url||Fa)+"").replace(gc,"").replace(jc,Na[1]+"//");s.type=f.method||f.type||s.method||s.type;s.dataTypes=b.trim(s.dataType||"*").toLowerCase().match(p)||[""];null==s.crossDomain&&(d=Fb.exec(s.url.toLowerCase()),s.crossDomain=!(!d||d[1]===Na[1]&&
d[2]===Na[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Na[3]||("http:"===Na[1]?"80":"443"))));s.data&&s.processData&&"string"!==typeof s.data&&(s.data=b.param(s.data,s.traditional));Aa(Hb,s,f,w);if(2===oa)return w;(r=s.global)&&0===b.active++&&b.event.trigger("ajaxStart");s.type=s.type.toUpperCase();s.hasContent=!ic.test(s.type);e=s.url;s.hasContent||(s.data&&(e=s.url+=(lb.test(e)?"&":"?")+s.data,delete s.data),!1===s.cache&&(s.url=Eb.test(e)?e.replace(Eb,"$1_="+kb++):e+(lb.test(e)?"&":"?")+"_="+kb++));
s.ifModified&&(b.lastModified[e]&&w.setRequestHeader("If-Modified-Since",b.lastModified[e]),b.etag[e]&&w.setRequestHeader("If-None-Match",b.etag[e]));(s.data&&s.hasContent&&!1!==s.contentType||f.contentType)&&w.setRequestHeader("Content-Type",s.contentType);w.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+Ib+"; q=0.01":""):s.accepts["*"]);for(k in s.headers)w.setRequestHeader(k,s.headers[k]);if(s.beforeSend&&(!1===s.beforeSend.call(x,
w,s)||2===oa))return w.abort();X="abort";for(k in{success:1,error:1,complete:1})w[k](s[k]);if(v=Aa(cb,s,f,w)){w.readyState=1;r&&qa.trigger("ajaxSend",[w,s]);s.async&&0<s.timeout&&(l=setTimeout(function(){w.abort("timeout")},s.timeout));try{oa=1,v.send(ba,c)}catch(E){if(2>oa)c(-1,E);else throw E;}}else c(-1,"No Transport");return w},getJSON:function(a,f,c){return b.get(a,f,c,"json")},getScript:function(a,f){return b.get(a,m,f,"script")}});b.each(["get","post"],function(a,f){b[f]=function(a,c,d,k){b.isFunction(c)&&
(k=k||d,d=c,c=m);return b.ajax({url:a,type:f,dataType:k,data:c,success:d})}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){b.globalEval(a);return a}}});b.ajaxPrefilter("script",function(a){a.cache===m&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});b.ajaxTransport("script",function(a){if(a.crossDomain){var f,c=D.head||b("head")[0]||D.documentElement;
return{send:function(b,d){f=D.createElement("script");f.async=!0;a.scriptCharset&&(f.charset=a.scriptCharset);f.src=a.url;f.onload=f.onreadystatechange=function(a,b){if(b||!f.readyState||/loaded|complete/.test(f.readyState))f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),f=null,b||d(200,"success")};c.insertBefore(f,c.firstChild)},abort:function(){if(f)f.onload(m,!0)}}}});var Jb=[],mb=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||
b.expando+"_"+kb++;this[a]=!0;return a}});b.ajaxPrefilter("json jsonp",function(a,f,c){var k,e,p,h=!1!==a.jsonp&&(mb.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&mb.test(a.data)&&"data");if(h||"jsonp"===a.dataTypes[0])return k=a.jsonpCallback=b.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h?a[h]=a[h].replace(mb,"$1"+k):!1!==a.jsonp&&(a.url+=(lb.test(a.url)?"&":"?")+a.jsonp+"="+k),a.converters["script json"]=function(){p||
b.error(k+" was not called");return p[0]},a.dataTypes[0]="json",e=d[k],d[k]=function(){p=arguments},c.always(function(){d[k]=e;a[k]&&(a.jsonpCallback=f.jsonpCallback,Jb.push(k));p&&b.isFunction(e)&&e(p[0]);p=e=m}),"script"});var Pa,Ta,kc=0,nb=d.ActiveXObject&&function(){for(var a in Pa)Pa[a](m,!0)};b.ajaxSettings.xhr=d.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&R()))a:{try{a=new d.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:R;Ta=b.ajaxSettings.xhr();b.support.cors=
!!Ta&&"withCredentials"in Ta;(Ta=b.support.ajax=!!Ta)&&b.ajaxTransport(function(a){if(!a.crossDomain||b.support.cors){var f;return{send:function(c,k){var e,p,h=a.xhr();a.username?h.open(a.type,a.url,a.async,a.username,a.password):h.open(a.type,a.url,a.async);if(a.xhrFields)for(p in a.xhrFields)h[p]=a.xhrFields[p];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");try{for(p in c)h.setRequestHeader(p,c[p])}catch(l){}h.send(a.hasContent&&
a.data||null);f=function(c,g){var d,p,l,r;try{if(f&&(g||4===h.readyState))if(f=m,e&&(h.onreadystatechange=b.noop,nb&&delete Pa[e]),g)4!==h.readyState&&h.abort();else{r={};d=h.status;p=h.getAllResponseHeaders();"string"===typeof h.responseText&&(r.text=h.responseText);try{l=h.statusText}catch(s){l=""}d||!a.isLocal||a.crossDomain?1223===d&&(d=204):d=r.text?200:404}}catch(C){g||k(-1,C)}r&&k(d,l,r,p)};a.async?4===h.readyState?setTimeout(f):(e=++kc,nb&&(Pa||(Pa={},b(d).unload(nb)),Pa[e]=f),h.onreadystatechange=
f):f()},abort:function(){f&&f(m,!0)}}}});var Oa,Za,lc=/^(?:toggle|show|hide)$/,Kb=RegExp("^(?:([+-])=|)("+k+")([a-z%]*)$","i"),mc=/queueHooks$/,Wa=[function(a,f,c){var d,k,e,p,h,l=this,r={},m=a.style,s=a.nodeType&&z(a),C=b._data(a,"fxshow");c.queue||(p=b._queueHooks(a,"fx"),null==p.unqueued&&(p.unqueued=0,h=p.empty.fire,p.empty.fire=function(){p.unqueued||h()}),p.unqueued++,l.always(function(){l.always(function(){p.unqueued--;b.queue(a,"fx").length||p.empty.fire()})}));1===a.nodeType&&("height"in
f||"width"in f)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===b.css(a,"display")&&"none"===b.css(a,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==fa(a.nodeName)?m.zoom=1:m.display="inline-block"));c.overflow&&(m.overflow="hidden",b.support.shrinkWrapBlocks||l.always(function(){m.overflow=c.overflow[0];m.overflowX=c.overflow[1];m.overflowY=c.overflow[2]}));for(d in f)k=f[d],lc.exec(k)&&(delete f[d],e=e||"toggle"===k,k!==(s?"hide":"show")&&(r[d]=C&&C[d]||b.style(a,d)));if(!b.isEmptyObject(r))for(d in C?
"hidden"in C&&(s=C.hidden):C=b._data(a,"fxshow",{}),e&&(C.hidden=!s),s?b(a).show():l.done(function(){b(a).hide()}),l.done(function(){var f;b._removeData(a,"fxshow");for(f in r)b.style(a,f,r[f])}),r)f=ta(s?C[d]:0,d,l),d in C||(C[d]=f.start,s&&(f.end=f.start,f.start="width"===d||"height"===d?1:0))}],Ra={"*":[function(a,f){var c=this.createTween(a,f),d=c.cur(),k=Kb.exec(f),e=k&&k[3]||(b.cssNumber[a]?"":"px"),p=(b.cssNumber[a]||"px"!==e&&+d)&&Kb.exec(b.css(c.elem,a)),h=1,l=20;if(p&&p[3]!==e){e=e||p[3];
k=k||[];p=+d||1;do h=h||".5",p/=h,b.style(c.elem,a,p+e);while(h!==(h=c.cur()/d)&&1!==h&&--l)}k&&(p=c.start=+p||+d||0,c.unit=e,c.end=k[1]?p+(k[1]+1)*k[2]:+k[2]);return c}]};b.Animation=b.extend(ua,{tweener:function(a,f){b.isFunction(a)?(f=a,a=["*"]):a=a.split(" ");for(var c,d=0,k=a.length;d<k;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(f)},prefilter:function(a,b){b?Wa.unshift(a):Wa.push(a)}});b.Tween=U;U.prototype={constructor:U,init:function(a,c,d,k,e,p){this.elem=a;this.prop=d;this.easing=e||"swing";
this.options=c;this.start=this.now=this.cur();this.end=k;this.unit=p||(b.cssNumber[d]?"":"px")},cur:function(){var a=U.propHooks[this.prop];return a&&a.get?a.get(this):U.propHooks._default.get(this)},run:function(a){var c,d=U.propHooks[this.prop];this.pos=this.options.duration?c=b.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):c=a;this.now=(this.end-this.start)*c+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);d&&d.set?d.set(this):U.propHooks._default.set(this);
return this}};U.prototype.init.prototype=U.prototype;U.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=b.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(b.fx.step[a.prop])b.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[b.cssProps[a.prop]]||b.cssHooks[a.prop])?b.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&
(a.elem[a.prop]=a.now)}};b.each(["toggle","show","hide"],function(a,c){var d=b.fn[c];b.fn[c]=function(a,b,k){return null==a||"boolean"===typeof a?d.apply(this,arguments):this.animate(na(c,!0),a,b,k)}});b.fn.extend({fadeTo:function(a,b,c,d){return this.filter(z).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,c,d,k){var e=b.isEmptyObject(a),p=b.speed(c,d,k);c=function(){var c=ua(this,b.extend({},a),p);(e||b._data(this,"finish"))&&c.stop(!0)};c.finish=c;return e||!1===p.queue?
this.each(c):this.queue(p.queue,c)},stop:function(a,c,d){var k=function(a){var b=a.stop;delete a.stop;b(d)};"string"!==typeof a&&(d=c,c=a,a=m);c&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var c=!0,f=null!=a&&a+"queueHooks",e=b.timers,p=b._data(this);if(f)p[f]&&p[f].stop&&k(p[f]);else for(f in p)p[f]&&p[f].stop&&mc.test(f)&&k(p[f]);for(f=e.length;f--;)e[f].elem!==this||null!=a&&e[f].queue!==a||(e[f].anim.stop(d),c=!1,e.splice(f,1));!c&&d||b.dequeue(this,a)})},finish:function(a){!1!==
a&&(a=a||"fx");return this.each(function(){var c,d=b._data(this),k=d[a+"queue"];c=d[a+"queueHooks"];var e=b.timers,p=k?k.length:0;d.finish=!0;b.queue(this,a,[]);c&&c.stop&&c.stop.call(this,!0);for(c=e.length;c--;)e[c].elem===this&&e[c].queue===a&&(e[c].anim.stop(!0),e.splice(c,1));for(c=0;c<p;c++)k[c]&&k[c].finish&&k[c].finish.call(this);delete d.finish})}});b.each({slideDown:na("show"),slideUp:na("hide"),slideToggle:na("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(a,c){b.fn[a]=function(a,b,d){return this.animate(c,a,b,d)}});b.speed=function(a,c,d){var k=a&&"object"===typeof a?b.extend({},a):{complete:d||!d&&c||b.isFunction(a)&&a,duration:a,easing:d&&c||c&&!b.isFunction(c)&&c};k.duration=b.fx.off?0:"number"===typeof k.duration?k.duration:k.duration in b.fx.speeds?b.fx.speeds[k.duration]:b.fx.speeds._default;if(null==k.queue||!0===k.queue)k.queue="fx";k.old=k.complete;k.complete=function(){b.isFunction(k.old)&&k.old.call(this);k.queue&&b.dequeue(this,
k.queue)};return k};b.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};b.timers=[];b.fx=U.prototype.init;b.fx.tick=function(){var a,c=b.timers,d=0;for(Oa=b.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||b.fx.stop();Oa=m};b.fx.timer=function(a){a()&&b.timers.push(a)&&b.fx.start()};b.fx.interval=13;b.fx.start=function(){Za||(Za=setInterval(b.fx.tick,b.fx.interval))};b.fx.stop=function(){clearInterval(Za);Za=null};b.fx.speeds={slow:600,fast:200,
_default:400};b.fx.step={};b.expr&&b.expr.filters&&(b.expr.filters.animated=function(a){return b.grep(b.timers,function(b){return a===b.elem}).length});b.fn.offset=function(a){if(arguments.length)return a===m?this:this.each(function(c){b.offset.setOffset(this,a,c)});var c,d,k={top:0,left:0},e=(d=this[0])&&d.ownerDocument;if(e){c=e.documentElement;if(!b.contains(c,d))return k;typeof d.getBoundingClientRect!==ea&&(k=d.getBoundingClientRect());d=ya(e);return{top:k.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||
0),left:k.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}};b.offset={setOffset:function(a,c,d){var k=b.css(a,"position");"static"===k&&(a.style.position="relative");var e=b(a),p=e.offset(),h=b.css(a,"top"),l=b.css(a,"left"),r={},m={};("absolute"===k||"fixed"===k)&&-1<b.inArray("auto",[h,l])?(m=e.position(),k=m.top,l=m.left):(k=parseFloat(h)||0,l=parseFloat(l)||0);b.isFunction(c)&&(c=c.call(a,d,p));null!=c.top&&(r.top=c.top-p.top+k);null!=c.left&&(r.left=c.left-p.left+l);"using"in c?c.using.call(a,
r):e.css(r)}};b.fn.extend({position:function(){if(this[0]){var a,c,d={top:0,left:0},k=this[0];"fixed"===b.css(k,"position")?c=k.getBoundingClientRect():(a=this.offsetParent(),c=this.offset(),b.nodeName(a[0],"html")||(d=a.offset()),d.top+=b.css(a[0],"borderTopWidth",!0),d.left+=b.css(a[0],"borderLeftWidth",!0));return{top:c.top-d.top-b.css(k,"marginTop",!0),left:c.left-d.left-b.css(k,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||za;a&&!b.nodeName(a,
"html")&&"static"===b.css(a,"position");)a=a.offsetParent;return a||za})}});b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);b.fn[a]=function(k){return b.access(this,function(a,k,e){var p=ya(a);if(e===m)return p?c in p?p[c]:p.document.documentElement[k]:a[k];p?p.scrollTo(d?b(p).scrollLeft():e,d?e:b(p).scrollTop()):a[k]=e},a,k,arguments.length,null)}});b.each({Height:"height",Width:"width"},function(a,c){b.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,
k){b.fn[k]=function(k,e){var p=arguments.length&&(d||"boolean"!==typeof k),h=d||(!0===k||!0===e?"margin":"border");return b.access(this,function(c,f,d){return b.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):d===m?b.css(c,f,h):b.style(c,f,d,h)},c,p?k:m,p,null)}})});b.fn.size=function(){return this.length};b.fn.andSelf=b.fn.addBack;"object"===typeof module&&module&&"object"===
typeof module.exports?module.exports=b:(d.jQuery=d.$=b,"function"===typeof define&&define.amd&&define("jquery",[],function(){return b}))})(window);(function(){function d(d){function q(e,h){var q,ka,J=e==window,G=h&&void 0!==h.message?h.message:void 0;h=d.extend({},d.blockUI.defaults,h||{});if(!h.ignoreIfBlocked||!d(e).data("blockUI.isBlocked")){h.overlayCSS=d.extend({},d.blockUI.defaults.overlayCSS,h.overlayCSS||{});q=d.extend({},d.blockUI.defaults.css,h.css||{});h.onOverlayClick&&(h.overlayCSS.cursor="pointer");ka=d.extend({},d.blockUI.defaults.themedCSS,h.themedCSS||{});G=void 0===G?h.message:G;J&&M&&c(window,{fadeOut:0});if(G&&"string"!=
typeof G&&(G.parentNode||G.jquery)){var Z=G.jquery?G[0]:G,z={};d(e).data("blockUI.history",z);z.el=Z;z.parent=Z.parentNode;z.display=Z.style.display;z.position=Z.style.position;z.parent&&z.parent.removeChild(Z)}d(e).data("blockUI.onUnblock",h.onUnblock);var z=h.baseZ,la;la=A||h.forceIframe?d('<iframe class="blockUI" style="z-index:'+z++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+h.iframeSrc+'"></iframe>'):d('<div class="blockUI" style="display:none"></div>');
Z=h.theme?d('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+z++ +';display:none"></div>'):d('<div class="blockUI blockOverlay" style="z-index:'+z++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');h.theme&&J?(z='<div class="blockUI '+h.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:fixed">',h.title&&(z+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+
(h.title||"&nbsp;")+"</div>"),z+='<div class="ui-widget-content ui-dialog-content"></div></div>'):h.theme?(z='<div class="blockUI '+h.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:absolute">',h.title&&(z+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(h.title||"&nbsp;")+"</div>"),z+='<div class="ui-widget-content ui-dialog-content"></div>',z+="</div>"):z=J?'<div class="blockUI '+h.blockMsgClass+' blockPage" style="z-index:'+
(z+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+h.blockMsgClass+' blockElement" style="z-index:'+(z+10)+';display:none;position:absolute"></div>';z=d(z);G&&(h.theme?(z.css(ka),z.addClass("ui-widget-content")):z.css(q));h.theme||Z.css(h.overlayCSS);Z.css("position",J?"fixed":"absolute");(A||h.forceIframe)&&la.css("opacity",0);q=[la,Z,z];var t=J?d("body"):d(e);d.each(q,function(){this.appendTo(t)});h.theme&&h.draggable&&d.fn.draggable&&z.draggable({handle:".ui-dialog-titlebar",
cancel:"li"});ka=w&&(!d.support.boxModel||0<d("object,embed",J?null:e).length);if(K||ka){J&&h.allowBodyStretch&&d.support.boxModel&&d("html,body").css("height","100%");if((K||!d.support.boxModel)&&!J){ka=parseInt(d.css(e,"borderTopWidth"),10)||0;var ma=parseInt(d.css(e,"borderLeftWidth"),10)||0,aa=ka?"(0 - "+ka+")":0,fa=ma?"(0 - "+ma+")":0}d.each(q,function(c,d){var e=d[0].style;e.position="absolute";if(2>c)J?e.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+
h.quirksmodeOffsetHack+') + "px"'):e.setExpression("height",'this.parentNode.offsetHeight + "px"'),J?e.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):e.setExpression("width",'this.parentNode.offsetWidth + "px"'),fa&&e.setExpression("left",fa),aa&&e.setExpression("top",aa);else if(h.centerY)J&&e.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),
e.marginTop=0;else if(!h.centerY&&J){var l="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(h.css&&h.css.top?parseInt(h.css.top,10):0)+') + "px"';e.setExpression("top",l)}})}G&&(h.theme?z.find(".ui-widget-content").append(G):z.append(G),(G.jquery||G.nodeType)&&d(G).show());(A||h.forceIframe)&&h.showOverlay&&la.show();if(h.fadeIn)q=h.onBlock?h.onBlock:x,la=h.showOverlay&&!G?q:x,q=G?q:x,h.showOverlay&&Z._fadeIn(h.fadeIn,la),G&&z._fadeIn(h.fadeIn,
q);else if(h.showOverlay&&Z.show(),G&&z.show(),h.onBlock)h.onBlock();l(1,e,h);J?(M=z[0],Q=d(h.focusableElements,M),h.focusInput&&setTimeout(r,20)):v(z[0],h.centerX,h.centerY);h.timeout&&(G=setTimeout(function(){J?d.unblockUI(h):d(e).unblock(h)},h.timeout),d(e).data("blockUI.timeout",G))}}function c(c,h){var r,v=c==window,x=d(c),w=x.data("blockUI.history"),q=x.data("blockUI.timeout");q&&(clearTimeout(q),x.removeData("blockUI.timeout"));h=d.extend({},d.blockUI.defaults,h||{});l(0,c,h);null===h.onUnblock&&
(h.onUnblock=x.data("blockUI.onUnblock"),x.removeData("blockUI.onUnblock"));var A;A=v?d("body").children().filter(".blockUI").add("body > .blockUI"):x.find(">.blockUI");h.cursorReset&&(1<A.length&&(A[1].style.cursor=h.cursorReset),2<A.length&&(A[2].style.cursor=h.cursorReset));v&&(M=Q=null);h.fadeOut?(r=A.length,A.stop().fadeOut(h.fadeOut,function(){0===--r&&e(A,w,h,c)})):e(A,w,h,c)}function e(c,e,h,l){var r=d(l);if(!r.data("blockUI.isBlocked")){c.each(function(c,d){this.parentNode&&this.parentNode.removeChild(this)});
e&&e.el&&(e.el.style.display=e.display,e.el.style.position=e.position,e.parent&&e.parent.appendChild(e.el),r.removeData("blockUI.history"));r.data("blockUI.static")&&r.css("position","static");if("function"==typeof h.onUnblock)h.onUnblock(l,h);c=d(document.body);e=c.width();h=c[0].style.width;c.width(e-1).width(e);c[0].style.width=h}}function l(c,e,l){var r=e==window;e=d(e);if(c||(!r||M)&&(r||e.data("blockUI.isBlocked")))e.data("blockUI.isBlocked",c),r&&l.bindEvents&&(!c||l.showOverlay)&&(c?d(document).bind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",
l,h):d(document).unbind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",h))}function h(c){if("keydown"===c.type&&c.keyCode&&9==c.keyCode&&M&&c.data.constrainTabKey){var e=Q,h=c.shiftKey&&c.target===e[0];if(!c.shiftKey&&c.target===e[e.length-1]||h)return setTimeout(function(){r(h)},10),!1}e=c.data;c=d(c.target);if(c.hasClass("blockOverlay")&&e.onOverlayClick)e.onOverlayClick();return 0<c.parents("div."+e.blockMsgClass).length?!0:0===c.parents().children().filter("div.blockUI").length}
function r(c){Q&&(c=Q[!0===c?Q.length-1:0])&&c.focus()}function v(c,e,h){var l=c.parentNode,r=c.style,v=(l.offsetWidth-c.offsetWidth)/2-(parseInt(d.css(l,"borderLeftWidth"),10)||0);c=(l.offsetHeight-c.offsetHeight)/2-(parseInt(d.css(l,"borderTopWidth"),10)||0);e&&(r.left=0<v?v+"px":"0");h&&(r.top=0<c?c+"px":"0")}d.fn._fadeIn=d.fn.fadeIn;var x=d.noop||function(){},A=/MSIE/.test(navigator.userAgent),K=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),w=d.isFunction(document.createElement("div").style.setExpression);
d.blockUI=function(c){q(window,c)};d.unblockUI=function(d){c(window,d)};d.growlUI=function(c,e,h,l){var r=d('<div class="growlUI"></div>');c&&r.append("<h1>"+c+"</h1>");e&&r.append("<h2>"+e+"</h2>");void 0===h&&(h=3E3);var v=function(c){c=c||{};d.blockUI({message:r,fadeIn:"undefined"!==typeof c.fadeIn?c.fadeIn:700,fadeOut:"undefined"!==typeof c.fadeOut?c.fadeOut:1E3,timeout:"undefined"!==typeof c.timeout?c.timeout:h,centerY:!1,showOverlay:!1,onUnblock:l,css:d.blockUI.defaults.growlCSS})};v();r.css("opacity");
r.mouseover(function(){v({fadeIn:0,timeout:3E4});var c=d(".blockMsg");c.stop();c.fadeTo(300,1)}).mouseout(function(){d(".blockMsg").fadeOut(1E3)})};d.fn.block=function(c){if(this[0]===window)return d.blockUI(c),this;var e=d.extend({},d.blockUI.defaults,c||{});this.each(function(){var c=d(this);e.ignoreIfBlocked&&c.data("blockUI.isBlocked")||c.unblock({fadeOut:0})});return this.each(function(){"static"==d.css(this,"position")&&(this.style.position="relative",d(this).data("blockUI.static",!0));this.style.zoom=
1;q(this,c)})};d.fn.unblock=function(e){return this[0]===window?(d.unblockUI(e),this):this.each(function(){c(this,e)})};d.blockUI.version=2.65;d.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",
growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1E3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",
onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var M=null,Q=[]}"function"===typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],d):d(jQuery)})();(function(){function d(c,d,l){var h=document.createElement("canvas");m(c,h,d,l);return h.toDataURL("image/jpeg",d.quality||0.8)}function m(c,d,l,h){var r=c.naturalWidth,v=c.naturalHeight,m=l.width,A=l.height,q=d.getContext("2d");q.save();l=l.orientation;switch(l){case 5:case 6:case 7:case 8:d.width=A;d.height=m;break;default:d.width=m,d.height=A}d=d.getContext("2d");switch(l){case 2:d.translate(m,0);d.scale(-1,1);break;case 3:d.translate(m,A);d.rotate(Math.PI);break;case 4:d.translate(0,A);d.scale(1,
-1);break;case 5:d.rotate(0.5*Math.PI);d.scale(1,-1);break;case 6:d.rotate(0.5*Math.PI);d.translate(0,-A);break;case 7:d.rotate(0.5*Math.PI);d.translate(m,-A);d.scale(-1,1);break;case 8:d.rotate(-0.5*Math.PI),d.translate(-m,0)}d=c.naturalWidth;1048576<d*c.naturalHeight?(l=document.createElement("canvas"),l.width=l.height=1,l=l.getContext("2d"),l.drawImage(c,-d+1,0),d=0===l.getImageData(0,0,1,1).data[3]):d=!1;d&&(r/=2,v/=2);d=document.createElement("canvas");d.width=d.height=1024;l=d.getContext("2d");
if(h){h=v;var w=document.createElement("canvas");w.width=1;w.height=h;w=w.getContext("2d");w.drawImage(c,0,0);for(var w=w.getImageData(0,0,1,h).data,M=0,Q=h,E=h;E>M;)0===w[4*(E-1)+3]?Q=E:M=E,E=Q+M>>1;h=E/h;h=0===h?1:h}else h=1;m=Math.ceil(1024*m/r);A=Math.ceil(1024*A/v/h);for(w=h=0;h<v;){for(Q=M=0;M<r;)l.clearRect(0,0,1024,1024),l.drawImage(c,-M,-h),q.drawImage(d,0,0,1024,1024,Q,w,m,A),M+=1024,Q+=m;h+=1024;w+=A}q.restore()}function q(c){if(window.Blob&&c instanceof Blob){var d=new Image,l=window.URL&&
window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!l)throw Error("No createObjectURL function found to create blob url");d.src=l.createObjectURL(c);this.blob=c;c=d}if(!c.naturalWidth&&!c.naturalHeight){var h=this;c.onload=function(){var c=h.imageLoadListeners;if(c){h.imageLoadListeners=null;for(var d=0,e=c.length;d<e;d++)c[d]()}};this.imageLoadListeners=[]}this.srcImage=c}q.prototype.render=function(c,e){if(this.imageLoadListeners){var l=
this;this.imageLoadListeners.push(function(){l.render(c,e)})}else{e=e||{};var h=this.srcImage.naturalWidth,r=this.srcImage.naturalHeight,v=e.width,x=e.height,A=e.maxWidth,q=e.maxHeight,w=!this.blob||"image/jpeg"===this.blob.type;v&&!x?x=r*v/h<<0:x&&!v?v=h*x/r<<0:(v=h,x=r);A&&v>A&&(v=A,x=r*v/h<<0);q&&x>q&&(x=q,v=h*x/r<<0);var h={width:v,height:x},M;for(M in e)h[M]=e[M];M=c.tagName.toLowerCase();"img"===M?c.src=d(this.srcImage,h,w):"canvas"===M&&m(this.srcImage,c,h,w);if("function"===typeof this.onrender)this.onrender(c)}};
"function"===typeof define&&define.amd?define([],function(){return q}):this.MegaPixImage=q})();var EXIF={};
(function(){function d(c,d,e){c.addEventListener?c.addEventListener(d,e,!1):c.attachEvent&&c.attachEvent("on"+d,e)}function m(c,d){BinaryAjax(c.src,function(e){e=q(e.binaryResponse);c.exifdata=e||{};d&&d()})}function q(c){if(255!=c.getByteAt(0)||216!=c.getByteAt(1))return!1;for(var d=2,e=c.getLength();d<e;){if(255!=c.getByteAt(d))return h&&console.log("Not a valid marker at offset "+d+", found: "+c.getByteAt(d)),!1;var m=c.getByteAt(d+1);if(22400==m||225==m)return h&&console.log("Found 0xFFE1 marker"),l(c,
d+4,c.getShortAt(d+2,!0)-2);d+=2+c.getShortAt(d+2,!0)}}function c(c,d,l,m,q){for(var w=c.getShortAt(l,q),M={},Q=0;Q<w;Q++){var E=l+12*Q+2,ha=m[c.getShortAt(E,q)];!ha&&h&&console.log("Unknown tag: "+c.getShortAt(E,q));M[ha]=e(c,E,d,l,q)}return M}function e(c,d,e,h,l){var m=c.getShortAt(d+2,l);h=c.getLongAt(d+4,l);e=c.getLongAt(d+8,l)+e;switch(m){case 1:case 7:if(1==h)return c.getByteAt(d+8,l);e=4<h?e:d+8;d=[];for(m=0;m<h;m++)d[m]=c.getByteAt(e+m);return d;case 2:return c.getStringAt(4<h?e:d+8,h-1);
case 3:if(1==h)return c.getShortAt(d+8,l);e=2<h?e:d+8;d=[];for(m=0;m<h;m++)d[m]=c.getShortAt(e+2*m,l);return d;case 4:if(1==h)return c.getLongAt(d+8,l);d=[];for(m=0;m<h;m++)d[m]=c.getLongAt(e+4*m,l);return d;case 5:if(1==h)return c.getLongAt(e,l)/c.getLongAt(e+4,l);d=[];for(m=0;m<h;m++)d[m]=c.getLongAt(e+8*m,l)/c.getLongAt(e+4+8*m,l);return d;case 9:if(1==h)return c.getSLongAt(d+8,l);d=[];for(m=0;m<h;m++)d[m]=c.getSLongAt(e+4*m,l);return d;case 10:if(1==h)return c.getSLongAt(e,l)/c.getSLongAt(e+4,
l);d=[];for(m=0;m<h;m++)d[m]=c.getSLongAt(e+8*m,l)/c.getSLongAt(e+4+8*m,l);return d}}function l(d,e,l){if("Exif"!=d.getStringAt(e,4))return h&&console.log("Not valid EXIF data! "+d.getStringAt(e,4)),!1;var m=e+6;if(18761==d.getShortAt(m))l=!1;else if(19789==d.getShortAt(m))l=!0;else return h&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;if(42!=d.getShortAt(m+2,l))return h&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=d.getLongAt(m+4,l))return h&&console.log("Not valid TIFF data! (First offset not 8)",
d.getShortAt(m+4,l)),!1;e=c(d,m,m+8,EXIF.TiffTags,l);if(e.ExifIFDPointer){var q=c(d,m,m+e.ExifIFDPointer,EXIF.Tags,l),w;for(w in q){switch(w){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":q[w]=EXIF.StringValues[w][q[w]];break;case "ExifVersion":case "FlashpixVersion":q[w]=
String.fromCharCode(q[w][0],q[w][1],q[w][2],q[w][3]);break;case "ComponentsConfiguration":q[w]=EXIF.StringValues.Components[q[w][0]]+EXIF.StringValues.Components[q[w][1]]+EXIF.StringValues.Components[q[w][2]]+EXIF.StringValues.Components[q[w][3]]}e[w]=q[w]}}if(e.GPSInfoIFDPointer)for(w in d=c(d,m,m+e.GPSInfoIFDPointer,EXIF.GPSTags,l),d){switch(w){case "GPSVersionID":d[w]=d[w][0]+"."+d[w][1]+"."+d[w][2]+"."+d[w][3]}e[w]=d[w]}return e}var h=!1;EXIF.Tags={36864:"ExifVersion",40960:"FlashpixVersion",
40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",
37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",
41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"};EXIF.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",
530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"};EXIF.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",
2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",
29:"GPSDateStamp",30:"GPSDifferential"};EXIF.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",
11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",
15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",
77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",
5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},
Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};EXIF.getData=function(c,d){if(!c.complete)return!1;c.exifdata?d&&d():m(c,d);return!0};EXIF.getTag=function(c,d){if(c.exifdata)return c.exifdata[d]};EXIF.getAllTags=function(c){if(!c.exifdata)return{};c=c.exifdata;var d={},e;for(e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d};EXIF.pretty=function(c){if(!c.exifdata)return"";
c=c.exifdata;var d="",e;for(e in c)c.hasOwnProperty(e)&&(d="object"==typeof c[e]?d+(e+" : ["+c[e].length+" values]\r\n"):d+(e+" : "+c[e]+"\r\n"));return d};EXIF.readFromBinaryFile=function(c){return q(c)};d(window,"load",function(){for(var c=document.getElementsByTagName("img"),e=0;e<c.length;e++)"true"==c[e].getAttribute("exif")&&(c[e].complete?EXIF.getData(c[e]):d(c[e],"load",function(){EXIF.getData(this)}))})})();var BinaryFile=function(d,m,q){var c=d,e=m||0,l=0;this.getRawData=function(){return c};"string"==typeof d?(l=q||c.length,this.getByteAt=function(d){return c.charCodeAt(d+e)&255},this.getBytesAt=function(d,l){for(var m=[],q=0;q<l;q++)m[q]=c.charCodeAt(d+q+e)&255;return m}):"unknown"==typeof d&&(l=q||IEBinary_getLength(c),this.getByteAt=function(d){return IEBinary_getByteAt(c,d+e)},this.getBytesAt=function(d,l){return(new VBArray(IEBinary_getBytesAt(c,d+e,l))).toArray()});this.getLength=function(){return l};
this.getSByteAt=function(c){c=this.getByteAt(c);return 127<c?c-256:c};this.getShortAt=function(c,d){var e=d?(this.getByteAt(c)<<8)+this.getByteAt(c+1):(this.getByteAt(c+1)<<8)+this.getByteAt(c);0>e&&(e+=65536);return e};this.getSShortAt=function(c,d){var e=this.getShortAt(c,d);return 32767<e?e-65536:e};this.getLongAt=function(c,d){var e=this.getByteAt(c),l=this.getByteAt(c+1),m=this.getByteAt(c+2),q=this.getByteAt(c+3),e=d?(((e<<8)+l<<8)+m<<8)+q:(((q<<8)+m<<8)+l<<8)+e;0>e&&(e+=4294967296);return e};
this.getSLongAt=function(c,d){var e=this.getLongAt(c,d);return 2147483647<e?e-4294967296:e};this.getStringAt=function(c,d){for(var e=[],l=this.getBytesAt(c,d),m=0;m<d;m++)e[m]=String.fromCharCode(l[m]);return e.join("")};this.getCharAt=function(c){return String.fromCharCode(this.getByteAt(c))};this.toBase64=function(){return window.btoa(c)};this.fromBase64=function(d){c=window.atob(d)}},BinaryAjax=function(){function d(){var c=null;window.ActiveXObject?c=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&
(c=new XMLHttpRequest);return c}function m(c,e,l){var h=d();h?(e&&("undefined"!=typeof h.onload?h.onload=function(){"200"==h.status?e(this):l&&l();h=null}:h.onreadystatechange=function(){4==h.readyState&&("200"==h.status?e(this):l&&l(),h=null)}),h.open("HEAD",c,!0),h.send(null)):l&&l()}function q(c,e,l,h,m,v){var q=d();if(q){var A=0;h&&!m&&(A=h[0]);var K=0;h&&(K=h[1]-h[0]+1);e&&("undefined"!=typeof q.onload?q.onload=function(){"200"==q.status||"206"==q.status||"0"==q.status?(q.binaryResponse=new BinaryFile(q.responseText,
A,K),q.fileSize=v||q.getResponseHeader("Content-Length"),e(q)):l&&l();q=null}:q.onreadystatechange=function(){if(4==q.readyState){if("200"==q.status||"206"==q.status||"0"==q.status){var c={status:q.status,binaryResponse:new BinaryFile("unknown"==typeof q.responseBody?q.responseBody:q.responseText,A,K),fileSize:v||q.getResponseHeader("Content-Length")};e(c)}else l&&l();q=null}});q.open("GET",c,!0);q.overrideMimeType&&q.overrideMimeType("text/plain; charset=x-user-defined");h&&m&&q.setRequestHeader("Range",
"bytes="+h[0]+"-"+h[1]);q.setRequestHeader("If-Modified-Since","Sat, 1 Jan 1970 00:00:00 GMT");q.send(null)}else l&&l()}return function(c,d,l,h){h?m(c,function(m){var v=parseInt(m.getResponseHeader("Content-Length"),10);m=m.getResponseHeader("Accept-Ranges");var x;x=h[0];0>h[0]&&(x+=v);q(c,d,l,[x,x+h[1]-1],"bytes"==m,v)}):q(c,d,l)}}();document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n\tIEBinary_getByteAt = AscB(MidB(strBinary, iOffset + 1, 1))\r\nEnd Function\r\nFunction IEBinary_getBytesAt(strBinary, iOffset, iLength)\r\n  Dim aBytes()\r\n  ReDim aBytes(iLength - 1)\r\n  For i = 0 To iLength - 1\r\n   aBytes(i) = IEBinary_getByteAt(strBinary, iOffset + i)\r\n  Next\r\n  IEBinary_getBytesAt = aBytes\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n\tIEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n\x3c/script>\r\n");!function(d){d(function(){var m=d.support,q;a:{q=document.createElement("bootstrap");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;for(e in c)if(void 0!==q.style[e]){q=c[e];break a}q=void 0}m.transition=q&&{end:q}})}(window.jQuery);
!function(d){var m=function(c,e){this.options=e;this.$element=d(c).delegate('[data-dismiss="modal"]',"click.dismiss.modal",d.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};m.prototype={constructor:m,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var c=this,e=d.Event("show");this.$element.trigger(e);this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var e=d.support.transition&&
c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body);c.$element.show();e&&c.$element[0].offsetWidth;c.$element.addClass("in").attr("aria-hidden",!1);c.enforceFocus();e?c.$element.one(d.support.transition.end,function(){c.$element.focus().trigger("shown")}):c.$element.focus().trigger("shown")}))},hide:function(c){c&&c.preventDefault();c=d.Event("hide");this.$element.trigger(c);this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),d(document).off("focusin.modal"),
this.$element.removeClass("in").attr("aria-hidden",!0),d.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var c=this;d(document).on("focusin.modal",function(d){c.$element[0]!==d.target&&!c.$element.has(d.target).length&&c.$element.focus()})},escape:function(){var c=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(d){27==d.which&&c.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},
hideWithTransition:function(){var c=this,e=setTimeout(function(){c.$element.off(d.support.transition.end);c.hideModal()},500);this.$element.one(d.support.transition.end,function(){clearTimeout(e);c.hideModal()})},hideModal:function(){var c=this;this.$element.hide();this.backdrop(function(){c.removeBackdrop();c.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(c){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&
this.options.backdrop){var l=d.support.transition&&e;this.$backdrop=d('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$backdrop.click("static"==this.options.backdrop?d.proxy(this.$element[0].focus,this.$element[0]):d.proxy(this.hide,this));l&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");c&&(l?this.$backdrop.one(d.support.transition.end,c):c())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d.support.transition&&this.$element.hasClass("fade")?
this.$backdrop.one(d.support.transition.end,c):c()):c&&c()}};var q=d.fn.modal;d.fn.modal=function(c){return this.each(function(){var e=d(this),l=e.data("modal"),h=d.extend({},d.fn.modal.defaults,e.data(),"object"==typeof c&&c);l||e.data("modal",l=new m(this,h));"string"==typeof c?l[c]():h.show&&l.show()})};d.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};d.fn.modal.Constructor=m;d.fn.modal.noConflict=function(){return d.fn.modal=q,this};d(document).on("click.modal.data-api",'[data-toggle="modal"]',
function(c){var e=d(this),l=e.attr("href"),h=d(e.attr("data-target")||l&&l.replace(/.*(?=#[^\s]+$)/,"")),l=h.data("modal")?"toggle":d.extend({remote:!/#/.test(l)&&l},h.data(),e.data());c.preventDefault();h.modal(l).one("hide",function(){e.focus()})})}(window.jQuery);
!function(d){function m(){d(".dropdown-backdrop").remove();d(c).each(function(){q(d(this)).removeClass("open")})}function q(c){var e=c.attr("data-target");e||(e=c.attr("href"),e=e&&/#/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));(e=e&&d(e))&&e.length||(e=c.parent());return e}var c="[data-toggle=dropdown]",e=function(c){var e=d(c).on("click.dropdown.data-api",this.toggle);d("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(c){c=
d(this);var e,l;if(!c.is(".disabled, :disabled"))return e=q(c),l=e.hasClass("open"),m(),l||("ontouchstart"in document.documentElement&&d('<div class="dropdown-backdrop"/>').insertBefore(d(this)).on("click",m),e.toggleClass("open")),c.focus(),!1},keydown:function(e){var l,m,x;if(/(38|40|27)/.test(e.keyCode)&&(l=d(this),e.preventDefault(),e.stopPropagation(),!l.is(".disabled, :disabled"))){m=q(l);x=m.hasClass("open");if(!x||x&&27==e.keyCode)return 27==e.which&&m.find(c).focus(),l.click();l=d("[role=menu] li:not(.divider):visible a",
m);l.length&&(m=l.index(l.filter(":focus")),38==e.keyCode&&0<m&&m--,40==e.keyCode&&m<l.length-1&&m++,~m||(m=0),l.eq(m).focus())}}};var l=d.fn.dropdown;d.fn.dropdown=function(c){return this.each(function(){var l=d(this),m=l.data("dropdown");m||l.data("dropdown",m=new e(this));"string"==typeof c&&m[c].call(l)})};d.fn.dropdown.Constructor=e;d.fn.dropdown.noConflict=function(){return d.fn.dropdown=l,this};d(document).on("click.dropdown.data-api",m).on("click.dropdown.data-api",".dropdown form",function(c){c.stopPropagation()}).on("click.dropdown.data-api",
c,e.prototype.toggle).on("keydown.dropdown.data-api",c+", [role=menu]",e.prototype.keydown)}(window.jQuery);
!function(d){function m(c,e){var l=d.proxy(this.process,this),h=d(c).is("body")?d(window):d(c),m;this.options=d.extend({},d.fn.scrollspy.defaults,e);this.$scrollElement=h.on("scroll.scroll-spy.data-api",l);this.selector=(this.options.target||(m=d(c).attr("href"))&&m.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=d("body");this.refresh();this.process()}m.prototype={constructor:m,refresh:function(){var c=this;this.offsets=d([]);this.targets=d([]);this.$body.find(this.selector).map(function(){var e=
d(this),e=e.data("target")||e.attr("href"),l=/^#\w/.test(e)&&d(e);return l&&l.length&&[[l.position().top+(!d.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(c,d){return c[0]-d[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})},process:function(){var c=this.$scrollElement.scrollTop()+this.options.offset,d=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),l=this.offsets,h=this.targets,m=this.activeTarget,
q;if(c>=d)return m!=(q=h.last()[0])&&this.activate(q);for(q=l.length;q--;)m!=h[q]&&c>=l[q]&&(!l[q+1]||c<=l[q+1])&&this.activate(h[q])},activate:function(c){this.activeTarget=c;d(this.selector).parent(".active").removeClass("active");c=d(this.selector+'[data-target="'+c+'"],'+this.selector+'[href="'+c+'"]').parent("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active"));c.trigger("activate")}};var q=d.fn.scrollspy;d.fn.scrollspy=function(c){return this.each(function(){var e=
d(this),l=e.data("scrollspy"),h="object"==typeof c&&c;l||e.data("scrollspy",l=new m(this,h));"string"==typeof c&&l[c]()})};d.fn.scrollspy.Constructor=m;d.fn.scrollspy.defaults={offset:10};d.fn.scrollspy.noConflict=function(){return d.fn.scrollspy=q,this};d(window).on("load",function(){d('[data-spy="scroll"]').each(function(){var c=d(this);c.scrollspy(c.data())})})}(window.jQuery);
!function(d){var m=function(c){this.element=d(c)};m.prototype={constructor:m,show:function(){var c=this.element,e=c.closest("ul:not(.dropdown-menu)"),l=c.attr("data-target"),h,m;l||(l=c.attr("href"),l=l&&l.replace(/.*(?=#[^\s]*$)/,""));c.parent("li").hasClass("active")||(h=e.find(".active:last a")[0],m=d.Event("show",{relatedTarget:h}),c.trigger(m),m.isDefaultPrevented()||(l=d(l),this.activate(c.parent("li"),e),this.activate(l,l.parent(),function(){c.trigger({type:"shown",relatedTarget:h})})))},activate:function(c,
e,l){function h(){m.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");c.addClass("active");q?(c[0].offsetWidth,c.addClass("in")):c.removeClass("fade");c.parent(".dropdown-menu")&&c.closest("li.dropdown").addClass("active");l&&l()}var m=e.find("> .active"),q=l&&d.support.transition&&m.hasClass("fade");q?m.one(d.support.transition.end,h):h();m.removeClass("in")}};var q=d.fn.tab;d.fn.tab=function(c){return this.each(function(){var e=d(this),l=e.data("tab");l||e.data("tab",
l=new m(this));"string"==typeof c&&l[c]()})};d.fn.tab.Constructor=m;d.fn.tab.noConflict=function(){return d.fn.tab=q,this};d(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault();d(this).tab("show")})}(window.jQuery);
!function(d){var m=function(c,d){this.init("tooltip",c,d)};m.prototype={constructor:m,init:function(c,e,l){var h,m;this.type=c;this.$element=d(e);this.options=this.getOptions(l);this.enabled=!0;c=this.options.trigger.split(" ");for(l=c.length;l--;)e=c[l],"click"==e?this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this)):"manual"!=e&&(h="hover"==e?"mouseenter":"focus",m="hover"==e?"mouseleave":"blur",this.$element.on(h+"."+this.type,this.options.selector,d.proxy(this.enter,
this)),this.$element.on(m+"."+this.type,this.options.selector,d.proxy(this.leave,this)));this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(c){return c=d.extend({},d.fn[this.type].defaults,this.$element.data(),c),c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),c},enter:function(c){var e=d.fn[this.type].defaults,l={},h;this._options&&d.each(this._options,function(c,d){e[c]!=d&&(l[c]=d)},this);h=
d(c.currentTarget)[this.type](l).data(this.type);if(!h.options.delay||!h.options.delay.show)return h.show();clearTimeout(this.timeout);h.hoverState="in";this.timeout=setTimeout(function(){"in"==h.hoverState&&h.show()},h.options.delay.show)},leave:function(c){var e=d(c.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out";this.timeout=setTimeout(function(){"out"==e.hoverState&&
e.hide()},e.options.delay.hide)},show:function(){var c,e,l,h,m;e=d.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(e),!e.isDefaultPrevented())){c=this.tip();this.setContent();this.options.animation&&c.addClass("fade");h="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement;c.detach().css({top:0,left:0,display:"block"});this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);e=
this.getPosition();l=c[0].offsetWidth;c=c[0].offsetHeight;switch(h){case "bottom":m={top:e.top+e.height,left:e.left+e.width/2-l/2};break;case "top":m={top:e.top-c,left:e.left+e.width/2-l/2};break;case "left":m={top:e.top+e.height/2-c/2,left:e.left-l};break;case "right":m={top:e.top+e.height/2-c/2,left:e.left+e.width}}this.applyPlacement(m,h);this.$element.trigger("shown")}},applyPlacement:function(c,d){var l=this.tip(),h=l[0].offsetWidth,m=l[0].offsetHeight,q,x,A,K;l.offset(c).addClass(d).addClass("in");
q=l[0].offsetWidth;x=l[0].offsetHeight;"top"==d&&x!=m&&(c.top=c.top+m-x,K=!0);"bottom"==d||"top"==d?(A=0,0>c.left&&(A=-2*c.left,c.left=0,l.offset(c),q=l[0].offsetWidth),this.replaceArrow(A-h+q,q,"left")):this.replaceArrow(x-m,x,"top");K&&l.offset(c)},replaceArrow:function(c,d,l){this.arrow().css(l,c?50*(1-c/d)+"%":"")},setContent:function(){var c=this.tip(),d=this.getTitle();c.find(".tooltip-inner")[this.options.html?"html":"text"](d);c.removeClass("fade in top bottom left right")},hide:function(){function c(){var c=
setTimeout(function(){e.off(d.support.transition.end).detach()},500);e.one(d.support.transition.end,function(){clearTimeout(c);e.detach()})}var e=this.tip(),l=d.Event("hide");this.$element.trigger(l);if(!l.isDefaultPrevented())return e.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?c():e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var c=this.$element;(c.attr("title")||"string"!=typeof c.attr("data-original-title"))&&c.attr("data-original-title",c.attr("title")||
"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var c=this.$element[0];return d.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():{width:c.offsetWidth,height:c.offsetHeight},this.$element.offset())},getTitle:function(){var c,d=this.$element,l=this.options;return c=d.attr("data-original-title")||("function"==typeof l.title?l.title.call(d[0]):l.title),c},tip:function(){return this.$tip=this.$tip||d(this.options.template)},arrow:function(){return this.$arrow=
this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(c){c=c?d(c.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var q=d.fn.tooltip;
d.fn.tooltip=function(c){return this.each(function(){var e=d(this),l=e.data("tooltip"),h="object"==typeof c&&c;l||e.data("tooltip",l=new m(this,h));"string"==typeof c&&l[c]()})};d.fn.tooltip.Constructor=m;d.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};d.fn.tooltip.noConflict=function(){return d.fn.tooltip=q,this}}(window.jQuery);
!function(d){var m=function(c,d){this.init("popover",c,d)};m.prototype=d.extend({},d.fn.tooltip.Constructor.prototype,{constructor:m,setContent:function(){var c=this.tip(),d=this.getTitle(),l=this.getContent();c.find(".popover-title")[this.options.html?"html":"text"](d);c.find(".popover-content")[this.options.html?"html":"text"](l);c.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var c,d=this.$element,l=this.options;
return c=("function"==typeof l.content?l.content.call(d[0]):l.content)||d.attr("data-content"),c},tip:function(){return this.$tip||(this.$tip=d(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var q=d.fn.popover;d.fn.popover=function(c){return this.each(function(){var e=d(this),l=e.data("popover"),h="object"==typeof c&&c;l||e.data("popover",l=new m(this,h));"string"==typeof c&&l[c]()})};d.fn.popover.Constructor=m;d.fn.popover.defaults=
d.extend({},d.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});d.fn.popover.noConflict=function(){return d.fn.popover=q,this}}(window.jQuery);
!function(d){var m=function(c,e){this.options=d.extend({},d.fn.affix.defaults,e);this.$window=d(window).on("scroll.affix.data-api",d.proxy(this.checkPosition,this)).on("click.affix.data-api",d.proxy(function(){setTimeout(d.proxy(this.checkPosition,this),1)},this));this.$element=d(c);this.checkPosition()};m.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=d(document).height(),e=this.$window.scrollTop(),l=this.$element.offset(),h=this.options.offset,m=h.bottom,q=h.top;"object"!=
typeof h&&(m=q=h);"function"==typeof q&&(q=h.top());"function"==typeof m&&(m=h.bottom());c=null!=this.unpin&&e+this.unpin<=l.top?!1:null!=m&&l.top+this.$element.height()>=c-m?"bottom":null!=q&&e<=q?"top":!1;this.affixed!==c&&(this.affixed=c,this.unpin="bottom"==c?l.top-e:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(c?"-"+c:"")))}};var q=d.fn.affix;d.fn.affix=function(c){return this.each(function(){var e=d(this),l=e.data("affix"),h="object"==typeof c&&c;l||e.data("affix",
l=new m(this,h));"string"==typeof c&&l[c]()})};d.fn.affix.Constructor=m;d.fn.affix.defaults={offset:0};d.fn.affix.noConflict=function(){return d.fn.affix=q,this};d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var c=d(this),e=c.data();e.offset=e.offset||{};e.offsetBottom&&(e.offset.bottom=e.offsetBottom);e.offsetTop&&(e.offset.top=e.offsetTop);c.affix(e)})})}(window.jQuery);
!function(d){var m=function(c){d(c).on("click",'[data-dismiss="alert"]',this.close)};m.prototype.close=function(c){function e(){m.trigger("closed").remove()}var l=d(this),h=l.attr("data-target"),m;h||(h=l.attr("href"),h=h&&h.replace(/.*(?=#[^\s]*$)/,""));m=d(h);c&&c.preventDefault();m.length||(m=l.hasClass("alert")?l:l.parent());m.trigger(c=d.Event("close"));c.isDefaultPrevented()||(m.removeClass("in"),d.support.transition&&m.hasClass("fade")?m.on(d.support.transition.end,e):e())};var q=d.fn.alert;
d.fn.alert=function(c){return this.each(function(){var e=d(this),l=e.data("alert");l||e.data("alert",l=new m(this));"string"==typeof c&&l[c].call(e)})};d.fn.alert.Constructor=m;d.fn.alert.noConflict=function(){return d.fn.alert=q,this};d(document).on("click.alert.data-api",'[data-dismiss="alert"]',m.prototype.close)}(window.jQuery);
!function(d){var m=function(c,e){this.$element=d(c);this.options=d.extend({},d.fn.button.defaults,e)};m.prototype.setState=function(c){var d=this.$element,l=d.data(),h=d.is("input")?"val":"html";c+="Text";l.resetText||d.data("resetText",d[h]());d[h](l[c]||this.options[c]);setTimeout(function(){"loadingText"==c?d.addClass("disabled").attr("disabled","disabled"):d.removeClass("disabled").removeAttr("disabled")},0)};m.prototype.toggle=function(){var c=this.$element.closest('[data-toggle="buttons-radio"]');
c&&c.find(".active").removeClass("active");this.$element.toggleClass("active")};var q=d.fn.button;d.fn.button=function(c){return this.each(function(){var e=d(this),l=e.data("button"),h="object"==typeof c&&c;l||e.data("button",l=new m(this,h));"toggle"==c?l.toggle():c&&l.setState(c)})};d.fn.button.defaults={loadingText:"loading..."};d.fn.button.Constructor=m;d.fn.button.noConflict=function(){return d.fn.button=q,this};d(document).on("click.button.data-api","[data-toggle^=button]",function(c){c=d(c.target);
c.hasClass("btn")||(c=c.closest(".btn"));c.button("toggle")})}(window.jQuery);
!function(d){var m=function(c,e){this.$element=d(c);this.options=d.extend({},d.fn.collapse.defaults,e);this.options.parent&&(this.$parent=d(this.options.parent));this.options.toggle&&this.toggle()};m.prototype={constructor:m,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var c,e,l,h;if(!this.transitioning&&!this.$element.hasClass("in")){c=this.dimension();e=d.camelCase(["scroll",c].join("-"));if((l=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&
l.length){if((h=l.data("collapse"))&&h.transitioning)return;l.collapse("hide");h||l.data("collapse",null)}this.$element[c](0);this.transition("addClass",d.Event("show"),"shown");d.support.transition&&this.$element[c](this.$element[0][e])}},hide:function(){var c;!this.transitioning&&this.$element.hasClass("in")&&(c=this.dimension(),this.reset(this.$element[c]()),this.transition("removeClass",d.Event("hide"),"hidden"),this.$element[c](0))},reset:function(c){var d=this.dimension();return this.$element.removeClass("collapse")[d](c||
"auto")[0].offsetWidth,this.$element[null!==c?"addClass":"removeClass"]("collapse"),this},transition:function(c,e,l){var h=this,m=function(){"show"==e.type&&h.reset();h.transitioning=0;h.$element.trigger(l)};this.$element.trigger(e);e.isDefaultPrevented()||(this.transitioning=1,this.$element[c]("in"),d.support.transition&&this.$element.hasClass("collapse")?this.$element.one(d.support.transition.end,m):m())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var q=d.fn.collapse;
d.fn.collapse=function(c){return this.each(function(){var e=d(this),l=e.data("collapse"),h=d.extend({},d.fn.collapse.defaults,e.data(),"object"==typeof c&&c);l||e.data("collapse",l=new m(this,h));"string"==typeof c&&l[c]()})};d.fn.collapse.defaults={toggle:!0};d.fn.collapse.Constructor=m;d.fn.collapse.noConflict=function(){return d.fn.collapse=q,this};d(document).on("click.collapse.data-api","[data-toggle=collapse]",function(c){var e=d(this),l;c=e.attr("data-target")||c.preventDefault()||(l=e.attr("href"))&&
l.replace(/.*(?=#[^\s]+$)/,"");l=d(c).data("collapse")?"toggle":e.data();e[d(c).hasClass("in")?"addClass":"removeClass"]("collapsed");d(c).collapse(l)})}(window.jQuery);
!function(d){var m=function(c,e){this.$element=d(c);this.$indicators=this.$element.find(".carousel-indicators");this.options=e;"hover"==this.options.pause&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};m.prototype={cycle:function(c){return c||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=
this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(c){var e=this.getActiveIndex(),l=this;if(!(c>this.$items.length-1||0>c))return this.sliding?this.$element.one("slid",function(){l.to(c)}):e==c?this.pause().cycle():this.slide(c>e?"next":"prev",d(this.$items[c]))},pause:function(c){return c||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition.end&&(this.$element.trigger(d.support.transition.end),
this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(c,e){var l=this.$element.find(".item.active"),h=e||l[c](),m=this.interval,q="next"==c?"left":"right",x="next"==c?"first":"last",A=this;this.sliding=!0;m&&this.pause();h=h.length?h:this.$element.find(".item")[x]();x=d.Event("slide",{relatedTarget:h[0],direction:q});if(!h.hasClass("active")){this.$indicators.length&&
(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var c=d(A.$indicators.children()[A.getActiveIndex()]);c&&c.addClass("active")}));if(d.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(x);if(x.isDefaultPrevented())return;h.addClass(c);h[0].offsetWidth;l.addClass(q);h.addClass(q);this.$element.one(d.support.transition.end,function(){h.removeClass([c,q].join(" ")).addClass("active");l.removeClass(["active",q].join(" "));A.sliding=!1;
setTimeout(function(){A.$element.trigger("slid")},0)})}else{this.$element.trigger(x);if(x.isDefaultPrevented())return;l.removeClass("active");h.addClass("active");this.sliding=!1;this.$element.trigger("slid")}return m&&this.cycle(),this}}};var q=d.fn.carousel;d.fn.carousel=function(c){return this.each(function(){var e=d(this),l=e.data("carousel"),h=d.extend({},d.fn.carousel.defaults,"object"==typeof c&&c),q="string"==typeof c?c:h.slide;l||e.data("carousel",l=new m(this,h));"number"==typeof c?l.to(c):
q?l[q]():h.interval&&l.pause().cycle()})};d.fn.carousel.defaults={interval:5E3,pause:"hover"};d.fn.carousel.Constructor=m;d.fn.carousel.noConflict=function(){return d.fn.carousel=q,this};d(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(c){var e=d(this),l,h=d(e.attr("data-target")||(l=e.attr("href"))&&l.replace(/.*(?=#[^\s]+$)/,""));l=d.extend({},h.data(),e.data());var m;h.carousel(l);(m=e.attr("data-slide-to"))&&h.data("carousel").pause().to(m).cycle();c.preventDefault()})}(window.jQuery);
!function(d){var m=function(c,e){this.$element=d(c);this.options=d.extend({},d.fn.typeahead.defaults,e);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=d(this.options.menu);this.shown=!1;this.listen()};m.prototype={constructor:m,select:function(){var c=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(c)).change(),
this.hide()},updater:function(c){return c},show:function(){var c=d.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:c.top+c.height,left:c.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(c){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=d.isFunction(this.source)?this.source(this.query,
d.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(c){var e=this;return c=d.grep(c,function(c){return e.matcher(c)}),c=this.sorter(c),c.length?this.render(c.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(c){return~c.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(c){for(var d=[],l=[],h=[],m;m=c.shift();)m.toLowerCase().indexOf(this.query.toLowerCase())?~m.indexOf(this.query)?l.push(m):h.push(m):d.push(m);return d.concat(l,
h)},highlighter:function(c){var d=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return c.replace(RegExp("("+d+")","ig"),function(c,d){return"<strong>"+d+"</strong>"})},render:function(c){var e=this;return c=d(c).map(function(c,h){return c=d(e.options.item).attr("data-value",h),c.find("a").html(e.highlighter(h)),c[0]}),c.first().addClass("active"),this.$menu.html(c),this},next:function(c){c=this.$menu.find(".active").removeClass("active").next();c.length||(c=d(this.$menu.find("li")[0]));
c.addClass("active")},prev:function(c){c=this.$menu.find(".active").removeClass("active").prev();c.length||(c=this.$menu.find("li").last());c.addClass("active")},listen:function(){this.$element.on("focus",d.proxy(this.focus,this)).on("blur",d.proxy(this.blur,this)).on("keypress",d.proxy(this.keypress,this)).on("keyup",d.proxy(this.keyup,this));this.eventSupported("keydown")&&this.$element.on("keydown",d.proxy(this.keydown,this));this.$menu.on("click",d.proxy(this.click,this)).on("mouseenter","li",
d.proxy(this.mouseenter,this)).on("mouseleave","li",d.proxy(this.mouseleave,this))},eventSupported:function(c){var d=c in this.$element;return d||(this.$element.setAttribute(c,"return;"),d="function"==typeof this.$element[c]),d},move:function(c){if(this.shown){switch(c.keyCode){case 9:case 13:case 27:c.preventDefault();break;case 38:c.preventDefault();this.prev();break;case 40:c.preventDefault(),this.next()}c.stopPropagation()}},keydown:function(c){this.suppressKeyPressRepeat=~d.inArray(c.keyCode,
[40,38,9,13,27]);this.move(c)},keypress:function(c){this.suppressKeyPressRepeat||this.move(c)},keyup:function(c){switch(c.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}c.stopPropagation();c.preventDefault()},focus:function(c){this.focused=!0},blur:function(c){this.focused=!1;!this.mousedover&&this.shown&&this.hide()},click:function(c){c.stopPropagation();c.preventDefault();
this.select();this.$element.focus()},mouseenter:function(c){this.mousedover=!0;this.$menu.find(".active").removeClass("active");d(c.currentTarget).addClass("active")},mouseleave:function(c){this.mousedover=!1;!this.focused&&this.shown&&this.hide()}};var q=d.fn.typeahead;d.fn.typeahead=function(c){return this.each(function(){var e=d(this),l=e.data("typeahead"),h="object"==typeof c&&c;l||e.data("typeahead",l=new m(this,h));"string"==typeof c&&l[c]()})};d.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',
item:'<li><a href="#"></a></li>',minLength:1};d.fn.typeahead.Constructor=m;d.fn.typeahead.noConflict=function(){return d.fn.typeahead=q,this};d(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(c){c=d(this);c.data("typeahead")||c.typeahead(c.data())})}(window.jQuery);(function(d){d.Jcrop=function(m,q){function c(b){return Math.round(b)+"px"}function e(b){b=d(b).offset();return[b.left,b.top]}function l(b){return[b.pageX-ma[0],b.pageY-ma[1]]}function h(b){"object"!=typeof b&&(b={});t=d.extend(t,b);d.each(["onChange","onSelect","onRelease","onDblClick"],function(b,c){"function"!=typeof t[c]&&(t[c]=function(){})})}function r(b,c,d){ma=e(P);F.setCursor("move"===b?b:b+"-resize");if("move"===b)return F.activateHandlers(x(c),Q,d);c=O.getFixed();var k=A(b),h=O.getCorner(A(k));
O.setPressed(O.getCorner(k));O.setCurrent(h);F.activateHandlers(v(b,c),Q,d)}function v(b,c){return function(d){if(t.aspectRatio)switch(b){case "e":d[1]=c.y+1;break;case "w":d[1]=c.y+1;break;case "n":d[0]=c.x+1;break;case "s":d[0]=c.x+1}else switch(b){case "e":d[1]=c.y2;break;case "w":d[1]=c.y2;break;case "n":d[0]=c.x2;break;case "s":d[0]=c.x2}O.setCurrent(d);y.update()}}function x(c){var d=c;return b.watchKeys(),function(b){O.moveOffset([b[0]-d[0],b[1]-d[1]]);d=b;y.update()}}function A(b){switch(b){case "n":return"sw";
case "s":return"nw";case "e":return"nw";case "w":return"ne";case "ne":return"sw";case "nw":return"se";case "se":return"nw";case "sw":return"ne"}}function K(b){return function(c){return t.disabled?!1:"move"!==b||t.allowMove?(ma=e(P),ia=!0,r(b,l(c)),c.stopPropagation(),c.preventDefault(),!1):!1}}function w(b,c,d){var k=b.width(),e=b.height();k>c&&0<c&&(k=c,e=c/b.width()*b.height());e>d&&0<d&&(e=d,k=d/b.height()*b.width());ca=b.width()/k;V=b.height()/e;b.width(k).height(e)}function M(b){return{x:b.x*
ca,y:b.y*V,x2:b.x2*ca,y2:b.y2*V,w:b.w*ca,h:b.h*V}}function Q(b){b=O.getFixed();b.w>t.minSelect[0]&&b.h>t.minSelect[1]?(y.enableHandles(),y.done()):y.release();F.setCursor(t.allowSelect?"crosshair":"default")}function E(c){if(t.disabled||!t.allowSelect)return!1;ia=!0;ma=e(P);y.disableHandles();F.setCursor("crosshair");var d=l(c);return O.setPressed(d),y.update(),F.activateHandlers(ha,Q,"touch"===c.type.substring(0,5)),b.watchKeys(),c.stopPropagation(),c.preventDefault(),!1}function ha(b){O.setCurrent(b);
y.update()}function I(){var b=d("<div></div>").addClass(t.baseClass+"-tracker");return fa&&b.css({opacity:0,backgroundColor:"white"}),b}function ka(b){J([b[0]/ca,b[1]/V,b[2]/ca,b[3]/V]);t.onSelect.call(k,M(O.getFixed()));y.enableHandles()}function J(b){O.setPressed([b[0],b[1]]);O.setCurrent([b[2],b[3]]);y.update()}function G(){t.disabled=!0;y.disableHandles();y.setCursor("default");F.setCursor("default")}function Z(){t.disabled=!1;la()}function z(b,c,k){c=c||t.bgColor;t.bgFade&&d.fx.step.hasOwnProperty("backgroundColor")&&
t.fadeTime&&!k?b.animate({backgroundColor:c},{queue:!1,duration:t.fadeTime}):b.css("backgroundColor",c)}function la(b){t.allowResize?b?y.enableOnly():y.enableHandles():y.disableHandles();F.setCursor(t.allowSelect?"crosshair":"default");y.setCursor(t.allowMove?"move":"default");t.hasOwnProperty("trueSize")&&(ca=t.trueSize[0]/R,V=t.trueSize[1]/N);t.hasOwnProperty("setSelect")&&(ka(t.setSelect),y.done(),delete t.setSelect);va.refresh();t.bgColor!=La&&(z(t.shade?va.getShades():ta,t.shade?t.shadeColor||
t.bgColor:t.bgColor),La=t.bgColor);ea!=t.bgOpacity&&(ea=t.bgOpacity,t.shade?va.refresh():y.setBgOpacity(ea));Y=t.maxSize[0]||0;D=t.maxSize[1]||0;za=t.minSize[0]||0;Ba=t.minSize[1]||0;t.hasOwnProperty("outerImage")&&(P.attr("src",t.outerImage),delete t.outerImage);y.refresh()}var t=d.extend({},d.Jcrop.defaults),ma,aa=navigator.userAgent.toLowerCase(),fa=/msie/.test(aa),Ka=/msie [1-6]\./.test(aa);"object"!=typeof m&&(m=d(m)[0]);"object"!=typeof q&&(q={});h(q);var aa={border:"none",visibility:"visible",
margin:0,padding:0,position:"absolute",top:0,left:0},T=d(m),sa=!0;if("IMG"==m.tagName){if(0!=T[0].width&&0!=T[0].height)T.width(T[0].width),T.height(T[0].height);else{var Aa=new Image;Aa.src=T[0].src;T.width(Aa.width);T.height(Aa.height)}var P=T.clone().removeAttr("id").css(aa).show();P.width(T.width());P.height(T.height());T.after(P).hide()}else P=T.css(aa).show(),sa=!1,null===t.shade&&(t.shade=!0);w(P,t.boxWidth,t.boxHeight);var R=P.width(),N=P.height(),ta=d("<div />").width(R).height(N).addClass(t.baseClass+
"-holder").css({position:"relative",backgroundColor:t.bgColor}).insertAfter(T).append(P);t.addClass&&ta.addClass(t.addClass);var ua=d("<div />"),Ea=d("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),U=d("<div />").width("100%").height("100%").css("zIndex",320),na=d("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var b=O.getFixed();t.onDblClick.call(k,b)}).insertBefore(P).append(Ea,U);sa&&(ua=d("<img />").attr("src",P.attr("src")).css(aa).width(R).height(N),
Ea.append(ua));Ka&&na.css({overflowY:"hidden"});var ya=t.boundary,ra=I().width(R+2*ya).height(N+2*ya).css({position:"absolute",top:c(-ya),left:c(-ya),zIndex:290}).mousedown(E),La=t.bgColor,ea=t.bgOpacity,Y,D,za,Ba,ca,V,ia,L,ja;ma=e(P);var W=function(){function b(){var c={},d=["touchstart","touchmove","touchend"],k=document.createElement("div"),e;try{for(e=0;e<d.length;e++){var p=d[e],p="on"+p,h=p in k;h||(k.setAttribute(p,"return;"),h="function"==typeof k[p]);c[d[e]]=h}return c.touchstart&&c.touchend&&
c.touchmove}catch(l){return!1}}return{createDragger:function(b){return function(c){return t.disabled?!1:"move"!==b||t.allowMove?(ma=e(P),ia=!0,r(b,l(W.cfilter(c)),!0),c.stopPropagation(),c.preventDefault(),!1):!1}},newSelection:function(b){return E(W.cfilter(b))},cfilter:function(b){return b.pageX=b.originalEvent.changedTouches[0].pageX,b.pageY=b.originalEvent.changedTouches[0].pageY,b},isSupported:b,support:!0===t.touchSupport||!1===t.touchSupport?t.touchSupport:b()}}(),O=function(){function b(){if(!t.aspectRatio){var c=
l-e,p=m-h,s;return Y&&Math.abs(c)>Y&&(l=0<c?e+Y:e-Y),D&&Math.abs(p)>D&&(m=0<p?h+D:h-D),Ba/V&&Math.abs(p)<Ba/V&&(m=0<p?h+Ba/V:h-Ba/V),za/ca&&Math.abs(c)<za/ca&&(l=0<c?e+za/ca:e-za/ca),0>e&&(l-=e,e-=e),0>h&&(m-=h,h-=h),0>l&&(e-=l,l-=l),0>m&&(h-=m,m-=m),l>R&&(s=l-R,e-=s,l-=s),m>N&&(s=m-N,h-=s,m-=s),e>R&&(s=e-N,m-=s,h-=s),h>N&&(s=h-N,m-=s,h-=s),k(d(e,h,l,m))}s=t.aspectRatio;var q=t.minSize[0]/ca,r=t.maxSize[0]/ca,v=l-e,w=m-h,x=Math.abs(v),y=Math.abs(w),z,A;return 0===r&&(r=10*R),x/y<s?(p=m,z=y*s,c=0>
v?e-z:z+e,0>c?(c=0,A=Math.abs((c-e)/s),p=0>w?h-A:A+h):c>R&&(c=R,A=Math.abs((c-e)/s),p=0>w?h-A:A+h)):(c=l,A=x/s,p=0>w?h-A:h+A,0>p?(p=0,z=Math.abs((p-h)*s),c=0>v?e-z:z+e):p>N&&(p=N,z=Math.abs(p-h)*s,c=0>v?e-z:z+e)),c>e?(c-e<q?c=e+q:c-e>r&&(c=e+r),p>h?p=h+(c-e)/s:p=h-(c-e)/s):c<e&&(e-c<q?c=e-q:e-c>r&&(c=e-r),p>h?p=h+(e-c)/s:p=h-(e-c)/s),0>c?(e-=c,c=0):c>R&&(e-=c-R,c=R),0>p?(h-=p,p=0):p>N&&(h-=p-N,p=N),k(d(e,h,c,p))}function c(b){return 0>b[0]&&(b[0]=0),0>b[1]&&(b[1]=0),b[0]>R&&(b[0]=R),b[1]>N&&(b[1]=
N),[Math.round(b[0]),Math.round(b[1])]}function d(b,c,k,e){var p=b,h=k,l=c,m=e;return k<b&&(p=k,h=b),e<c&&(l=e,m=c),[p,l,h,m]}function k(b){return{x:b[0],y:b[1],x2:b[2],y2:b[3],w:b[2]-b[0],h:b[3]-b[1]}}var e=0,h=0,l=0,m=0,q,r;return{flipCoords:d,setPressed:function(b){b=c(b);l=e=b[0];m=h=b[1]},setCurrent:function(b){b=c(b);q=b[0]-l;r=b[1]-m;l=b[0];m=b[1]},getOffset:function(){return[q,r]},moveOffset:function(b){var c=b[0];b=b[1];0>e+c&&(c-=c+e);0>h+b&&(b-=b+h);N<m+b&&(b+=N-(m+b));R<l+c&&(c+=R-(l+
c));e+=c;l+=c;h+=b;m+=b},getCorner:function(c){var d=b();switch(c){case "ne":return[d.x2,d.y];case "nw":return[d.x,d.y];case "se":return[d.x2,d.y2];case "sw":return[d.x,d.y2]}},getFixed:b}}(),va=function(){function b(){return k(O.getFixed())}function k(b){x.top.css({left:c(b.x),width:c(b.w),height:c(b.y)});x.bottom.css({top:c(b.y2),left:c(b.x),width:c(b.w),height:c(N-b.y2)});x.right.css({left:c(b.x2),width:c(R-b.x2)});x.left.css({width:c(b.x)})}function e(){return d("<div />").css({position:"absolute",
backgroundColor:t.shadeColor||t.bgColor}).appendTo(w)}function h(){v||(v=!0,w.insertBefore(P),b(),y.setBgOpacity(1,0,1),ua.hide(),l(t.shadeColor||t.bgColor,1),y.isAwake()?q(t.bgOpacity,1):q(1,1))}function l(b,c){z(r(),b,c)}function m(){v&&(w.remove(),ua.show(),v=!1,y.isAwake()?y.setBgOpacity(t.bgOpacity,1,1):(y.setBgOpacity(1,1,1),y.disableHandles()),z(ta,0,1))}function q(b,c){v&&(t.bgFade&&!c?w.animate({opacity:1-b},{queue:!1,duration:t.fadeTime}):w.css({opacity:1-b}))}function r(){return w.children()}
var v=!1,w=d("<div />").css({position:"absolute",zIndex:240,opacity:0}),x={top:e(),left:e().height(N),right:e().height(N),bottom:e()};return{update:b,updateRaw:k,getShades:r,setBgColor:l,enable:h,disable:m,resize:function(b,d){x.left.css({height:c(d)});x.right.css({height:c(d)})},refresh:function(){t.shade?h():m();y.isAwake()&&q(t.bgOpacity)},opacity:q}}(),y=function(){function b(c,k){var e=d("<div />").mousedown(K(c)).css({cursor:c+"-resize",position:"absolute",zIndex:k}).addClass("ord-"+c);return W.support&&
e.bind("touchstart.jcrop",W.createDragger(c)),U.append(e),e}function e(c){var d;for(d=0;d<c.length;d++)b(c[d],A++).addClass("jcrop-dragbar")}function h(b){var c,k;for(k=0;k<b.length;k++){switch(b[k]){case "n":c="hline";break;case "s":c="hline bottom";break;case "e":c="vline right";break;case "w":c="vline"}var e=D,p=b[k],l;l=c;l=d("<div />").css({position:"absolute",opacity:t.borderOpacity}).addClass(t.baseClass+"-"+l);l=(Ea.append(l),l);e[p]=l}}function l(c){var d;for(d=0;d<c.length;d++){var k=F,
e=c[d],h;h=t.handleSize;var m=b(c[d],A++).css({opacity:t.handleOpacity}).addClass(t.baseClass+"-handle");h=(h&&m.width(h).height(h),m);k[e]=h}}function m(){var b=O.getFixed();O.setPressed([b.x,b.y]);O.setCurrent([b.x2,b.y2]);q()}function q(b){if(z)return r(b)}function r(b){var d=O.getFixed(),e=d.h;na.width(Math.round(d.w)).height(Math.round(e));var e=d.x,h=d.y;t.shade||ua.css({top:c(-h),left:c(-e)});na.css({top:c(h),left:c(e)});t.shade&&va.updateRaw(d);z||(na.show(),t.shade?va.opacity(ea):v(ea,!0),
z=!0);b?t.onSelect.call(k,M(d)):t.onChange.call(k,M(d))}function v(b,c,d){if(z||c)t.bgFade&&!d?P.animate({opacity:b},{queue:!1,duration:t.fadeTime}):P.css("opacity",b)}function w(){E=!0;if(t.allowResize)return U.show(),!0}function x(){E=!1;U.hide()}function y(b){b?(L=!0,x()):(L=!1,w())}var z,A=370,D={},F={},E=!1;t.dragEdges&&d.isArray(t.createDragbars)&&e(t.createDragbars);d.isArray(t.createHandles)&&l(t.createHandles);t.drawBorders&&d.isArray(t.createBorders)&&h(t.createBorders);d(document).bind("touchstart.jcrop-ios",
function(b){d(b.currentTarget).hasClass("jcrop-tracker")&&b.stopPropagation()});var G=I().mousedown(K("move")).css({cursor:"move",position:"absolute",zIndex:360});return W.support&&G.bind("touchstart.jcrop",W.createDragger("move")),Ea.append(G),x(),{updateVisible:q,update:r,release:function(){x();na.hide();t.shade?va.opacity(1):v(1);z=!1;t.onRelease.call(k)},refresh:m,isAwake:function(){return z},setCursor:function(b){G.css("cursor",b)},enableHandles:w,enableOnly:function(){E=!0},showHandles:function(){E&&
U.show()},disableHandles:x,animMode:y,setBgOpacity:v,done:function(){y(!1);m()}}}(),F=function(){function b(c){return m(l(c)),!1}function c(b){b.preventDefault();b.stopPropagation();ia&&(ia=!1,q(l(b)),y.isAwake()&&t.onSelect.call(k,M(O.getFixed())),ra.css({zIndex:290}),d(document).unbind(".jcrop"),m=function(){},q=function(){});return!1}function e(b){return m(l(W.cfilter(b))),!1}function h(b){return c(W.cfilter(b))}var m=function(){},q=function(){},r=t.trackDocument;return r||ra.mousemove(b).mouseup(c).mouseout(c),
P.before(ra),{activateHandlers:function(k,l,t){ia=!0;m=k;q=l;ra.css({zIndex:450});t?d(document).bind("touchmove.jcrop",e).bind("touchend.jcrop",h):r&&d(document).bind("mousemove.jcrop",b).bind("mouseup.jcrop",c);return!1},setCursor:function(b){ra.css("cursor",b)}}}(),b=function(){function b(c){e.hide()}function c(b,d,k){t.allowMove&&(O.moveOffset([d,k]),y.updateVisible(!0));b.preventDefault();b.stopPropagation()}function k(b){if(b.ctrlKey||b.metaKey)return!0;var d=(ja=b.shiftKey?!0:!1)?10:1;switch(b.keyCode){case 37:c(b,
-d,0);break;case 39:c(b,d,0);break;case 38:c(b,0,-d);break;case 40:c(b,0,d);break;case 27:t.allowSelect&&y.release();break;case 9:return!0}return!1}var e=d('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),h=d("<div />").css({position:"absolute",overflow:"hidden"}).append(e);return t.keySupport&&(e.keydown(k).blur(b),Ka||!t.fixedSupport?(e.css({position:"absolute",left:"-20px"}),h.append(e).insertBefore(P)):e.insertBefore(P)),{watchKeys:function(){t.keySupport&&
(e.show(),e.focus())}}}();W.support&&ra.bind("touchstart.jcrop",W.newSelection);U.hide();la(!0);var k={setImage:function(b,c){y.release();G();var d=new Image;d.onload=function(){var e=d.height,h=t.boxWidth,l=t.boxHeight;P.width(d.width).height(e);P.attr("src",b);ua.attr("src",b);w(P,h,l);R=P.width();N=P.height();ua.width(R).height(N);ra.width(R+2*ya).height(N+2*ya);ta.width(R).height(N);va.resize(R,N);Z();"function"==typeof c&&c.call(k)};d.src=b},animateTo:function(b,c){var d=b[0]/ca,e=b[1]/V,h=b[2]/
ca,l=b[3]/V;if(!L){var m=O.flipCoords(d,e,h,l),q=O.getFixed(),r=[q.x,q.y,q.x2,q.y2],v=t.animationDelay,w=m[0]-r[0],x=m[1]-r[1],z=m[2]-r[2],A=m[3]-r[3],D=0,F=t.swingSpeed,d=r[0],e=r[1],h=r[2],l=r[3];y.animMode(!0);var E=function(){return function(){D+=(100-D)/F;r[0]=Math.round(d+D/100*w);r[1]=Math.round(e+D/100*x);r[2]=Math.round(h+D/100*z);r[3]=Math.round(l+D/100*A);99.8<=D&&(D=100);100>D?(J(r),window.setTimeout(E,v)):(y.done(),y.animMode(!1),"function"==typeof c&&c.call(k))}}();window.setTimeout(E,
v)}},setSelect:ka,setOptions:function(b){h(b);la()},tellSelect:function(){return M(O.getFixed())},tellScaled:function(){return O.getFixed()},setClass:function(b){ta.removeClass().addClass(t.baseClass+"-holder").addClass(b)},disable:G,enable:Z,cancel:function(){y.done();F.activateHandlers(null,null)},release:y.release,destroy:function(){ta.remove();T.show();T.css("visibility","visible");d(m).removeData("Jcrop")},focus:b.watchKeys,getBounds:function(){return[R*ca,N*V]},getWidgetSize:function(){return[R,
N]},getScaleFactor:function(){return[ca,V]},getOptions:function(){return t},ui:{holder:ta,selection:na}};return fa&&ta.bind("selectstart",function(){return!1}),T.data("Jcrop",k),k};d.fn.Jcrop=function(m,q){var c;return this.each(function(){if(d(this).data("Jcrop")){if("api"===m)return d(this).data("Jcrop");d(this).data("Jcrop").setOptions(m)}else"IMG"==this.tagName?d.Jcrop.Loader(this,function(){d(this).css({display:"block",visibility:"hidden"});c=d.Jcrop(this,m);d.isFunction(q)&&q.call(c)}):(d(this).css({display:"block",
visibility:"hidden"}),c=d.Jcrop(this,m),d.isFunction(q)&&q.call(c))}),this};d.Jcrop.Loader=function(m,q,c){function e(){h.complete?(l.unbind(".jcloader"),d.isFunction(q)&&q.call(h)):window.setTimeout(e,50)}var l=d(m),h=l[0];l.bind("load.jcloader",e).bind("error.jcloader",function(e){l.unbind(".jcloader");d.isFunction(c)&&c.call(h)});h.complete&&d.isFunction(q)&&(l.unbind(".jcloader"),q.call(h))};d.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,
bgColor:"black",bgOpacity:0.6,bgFade:!1,borderOpacity:0.4,handleOpacity:0.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:"n s e w nw ne se sw".split(" "),createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);(function(){function d(b){var c,d;for(d in ja.stories)ja.stories[d].type.toLowerCase()===b&&(c=ja.stories[d]);if("fb"===b){d=ja.stories[0].landingUrl;var e="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(d);window.open(e,"_blank")}c&&(d=c.landingUrl,d=c.body,c=c.subject,"twitter"===b?(e="https://twitter.com/share?",$.each([{name:"count",value:"none"},{name:"url",value:""},{name:"text",value:d}],function(b,c){e+=encodeURIComponent(c.name)+"="+encodeURIComponent(c.value)+"&"}),window.open(e,
"_blank")):"email"===b?(e="mailto:?content-type=text/html&subject="+encodeURIComponent(c)+"&body="+encodeURIComponent(d),"Safari"===V()?window.location.href=e:window.open(e,"_blank")):"sms"===b&&(e="sms:?body="+encodeURIComponent(d),"Safari"===V()?window.location.href=e:window.open(e,"_blank")));ga("send","event","share","click","share via "+b);b=y.backend+"kikbak/v2/share/addsharetype?code="+encodeURIComponent(ja.code)+"&type="+encodeURIComponent(b);$.ajax({type:"GET",global:!1,contentType:"application/json",
url:b,success:function(){},error:function(){}})}function m(b){var c=!1,d=y.backend+"kikbak/user/register";if("facebook"===L.type)d+="/fb?token="+encodeURIComponent(L.accessToken);else{var e=$("#email-input").val();L.email=e;L.name=$("#username-input").val();d+="/web?email="+encodeURIComponent(L.email);d+="&name="+encodeURIComponent(L.name)}e=$("#phone-input");e.hasClass("required")&&(L.phone=e.val(),L.phone&&10<=L.phone.replace(/[^\d]/g,"").length?d+="&phone="+encodeURIComponent(L.phone):(e.css("border",
"2px solid red"),c=!0));c||$.ajax({type:"GET",contentType:"application/json",url:d,success:function(c){c&&c.registerUserResponse&&"TOO_FEW_FRIENDS"===c.registerUserResponse.status?alert("For security purposes, Kikbak requires that your Facebook account have a certain minimum friend count. Unfortunately your chosen account does not qualify."):c&&c.registerUserResponse&&c.registerUserResponse.userId&&c.registerUserResponse.userId.userId?(F.userId=c.registerUserResponse.userId.userId,L.id=F.userId,"facebook"===
L.type?M(L.id,b):b()):x()},error:x})}function q(){var b=W;ga("send","event","share","click","share offer");m(function(){ea(function(){var c=y.backend+"kikbak/v2/share/getstories?userid="+encodeURIComponent(L.id)+"&offerid="+encodeURIComponent(b.id)+"&platform="+("Safari"===V()?"ios":"android")+"&imageurl="+encodeURIComponent(b.sharedImageUrl);$("#zipcode-input").hasClass("required")&&(c+="&zipcode="+$("#zipcode-input").val().replace(/[^\d]/g,""));"undefined"!==typeof I.p&&(c+="&longitude="+I.p.longitude,
c+="&latitude="+I.p.latitude);L.email&&(c+="&email="+encodeURIComponent(L.email));L.phone&&(c+="&phonenumber="+encodeURIComponent(L.phone));var d=$("#comment-input").val();d&&(c+="&caption="+encodeURIComponent(d));(d=$("#employeeId-input").val())&&(c+="&employeeid="+encodeURIComponent(d));(d=$("#location-sel").val())&&"false"!==d?c+="&locationid="+encodeURIComponent(d):(d=$("#location-input").val().replace(/\s+/g,""),""!==d&&(c+="&sitename="+encodeURIComponent(d)));$.ajax({type:"GET",contentType:"application/json",
url:c,success:function(c){if(c&&c.storiesResponse)if(ja=c.storiesResponse,"OK"===ja.status){c=ja.stories[0].landingUrl;var d=$("#landing");d.attr("href",c);$("#pre-share-popup").hide();"facebook"===b.auth?$("#post-share-detail h3").html("Give offer to friends"):$("#post-share-detail h3").html("Share your offer");$("#share-popup").show();ga("send","event","share","show","give method select")}else"LIMIT_REACH"===ja.status?(c=ja.stories[0].landingUrl,d=$("#landing"),d.attr("href",c),d.html(c),$("#pre-share-popup").hide(),
"facebook"===b.auth?$("#post-share-detail h3").html("Give offer to friends"):$("#post-share-detail h3").html("Share your offer"),$("#post-share-detail p").html("Congratulations! You have reached the maximum of 10 earned rewards.  You may continue to share this offer with friends, but you will not earn any additional referral rewards.<br><br>"+$("#post-share-detail p").html()),$("#share-popup").show(),ga("send","event","share","show","give method select")):"BLOCKED_NUMBER"===ja.status?A("Unfortunately you are no longer eligible to share this offer."):
x();else x()},error:x})})})}function c(){var b=!0;$(".required").each(function(){var c=$(this);c.css("border","1px solid gray");var d=c.val();"phone-input"===c.attr("id")?d&&10<=d.replace(/[^\d]/g,"").length||(b=!1):""===d.replace(/^\s+|\s+$/g,"")&&(b=!1)});b?$(".share-btn").removeAttr("disabled"):$(".share-btn").attr("disabled","disabled");""!==$("#zipcode-input")?$("#zipcode-btn").removeAttr("disabled"):$("#zipcode-btn").addAttr("disabled","disabled")}function e(b){ga("send","event","share","click",
"share offer");$("#login-div").show();$("#create-share-div").hide();$("#pre-share-popup").show();b||(b=function(){$("#pre-accepted").hide();$("#accepted").show();$("#zipcode-div").hide();$("#register-div").show();$(".popup").hide()});e.valid&&b();$("#zipcode-btn").click(function(){var c=$("#zipcode-input").val().replace(/[^\d]/g,"");if(5===c.length){var d=jQuery.parseJSON(unescape(F.offerDetail));$.ajax({type:"GET",contentType:"application/json",url:"kikbak/v2/share/validateZip?zipCode="+c+"&offerId="+
d.id,success:function(c){"OK"===c.zipValidationResponse.status?(e.valid=!0,b(),$("#zipcode-div").hide(),$("#register-div").show()):l(b)},error:x})}else l(b)})}function l(b){$("#zipcode-div").hide();$("#zipcode-invalid-div").show();$("#invalid-zipcode-btn").click(function(){$("#zipcode-invalid-div").hide();$("#register-div").show();b()})}function h(){$("#login-div").hide();c();$("#create-share-div").show()}function r(b){var c=b.accessToken;F.accessToken=c;L.accessToken=c;L.type="facebook";L.fbId=b.userID;
$("#username-input").removeClass("required");$("#email-input").removeClass("required")}function v(b){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(b)}function x(){A("Service is unavailable. Please try again later.")}function A(b){$(".popup").hide();$("#spinner h2").html("Waiting");$("#success-popup h1").html("");$("#success-popup h3").html("");$("#success-popup p").html(b);$("#success-popup").show()}
function K(){FB.init({appId:"493383324061333",channelUrl:"/m/channel.html",status:!0,cookie:!0,xfbml:!0});F.accessToken&&FB.getLoginStatus(function(b){F.accessToken="connected"===b.status?b.authResponse.accessToken:null});"share-login"===L.status?(L.cb(),L.status=null):I()}function w(b){F.accessToken=b;if(F.userId)I();else{var c={};c.access_token=b;b={};b.user=c;c={};c.RegisterUserRequest=b;c=JSON.stringify(c);$.ajax({dataType:"json",type:"POST",contentType:"application/json",data:c,url:y.backend+
"kikbak/user/register/fb/",success:function(b){b&&b.registerUserResponse&&"TOO_FEW_FRIENDS"===b.registerUserResponse.status?alert("For security purposes, Kikbak requires that your Facebook account have a certain minimum friend count. Unfortunately your chosen account does not qualify."):b&&b.registerUserResponse&&b.registerUserResponse.userId&&b.registerUserResponse.userId.userId?(F.userId=b.registerUserResponse.userId.userId,I()):x()},error:x})}}function M(b,c){var d={};d.access_token=F.accessToken;
var e={};e.UpdateFriendsRequest=d;d=JSON.stringify(e);$.ajax({dataType:"json",type:"POST",contentType:"application/json",data:d,url:y.backend+"kikbak/user/friends/fb/"+b,success:function(d){F.userId=b;c()},error:x})}function Q(){alert("We are unable to detect your current location.\n\nIf you are inside a participating store and would like to share a Kikbak offer with your friends, please enable location services for your phone and web browser in your device settings.");window.location.href="https://kikbak.me"}
function E(b,c){navigator.geolocation?($("#spinner").show(),navigator.geolocation.getCurrentPosition(function(c){I.p=c.coords;$("#spinner").hide();b();$(window).bind("popstate",b)},function(){$("#spinner").hide();c?c():Q()},{enableHighAccuracy:!0,maximumAge:6E5,timeout:5E3})):c?c():Q()}function ha(){$(".popup").hide();$("#crop-image-div").hide();$("#offer-view").hide();$("#offer-details-view").hide();$("#redeem-view").hide();$("#redeem-details-view").hide();$("#back-btn-div").hide();$("#suggest-btn-div").hide();
$("#suggest-view").hide();$("#redeem-gift-success").hide();$("#offer-btn-div").css("background",'url("img/btn_normal.png")');$("#redeem-btn-div").css("background",'url("img/btn_normal.png")');window.scrollTo(0,1)}function I(){ha();var b=F.code;"undefined"!==typeof b&&"null"!==b&&""!==b?(Y(),ka(b)):(b=window.location.hash,0===b.indexOf("#merchant-")?(b=b.split("-"),2==b.length?t(b[1]):R()):"#redeem"===b?(Y(),fa()):"#redeem-gift-detail"===b?(Y(),N()):"#redeem-credit-detail"===b?(Y(),ta()):"#suggest"===
b?(Y(),$("#suggest-view").show(""),$("#back-btn-div").show(""),$("#heading").html("Give"),$("#show-picture-suggest").removeAttr("src"),$("#add-photo-suggest").show(),$("#back-btn").unbind(),$("#back-btn").click(function(b){window.history.back()})):"#offer-detail"===b?R():J("offer"!==b))}function ka(b){b=y.backend+"kikbak/rewards/claimgift/"+F.userId+"/"+b;F.code=null;$.ajax({dataType:"json",type:"GET",contentType:"application/json",url:b,success:function(b){history.pushState({},"redeem","#redeem");
I()},error:function(){I()}})}function J(b){history.pushState({},"offer","#offer");E(function(){ha();"undefined"!==typeof I.p?aa(0,I.p,b):aa(0,null,b)})}function G(b,c){encodeURIComponent(b);return"https://maps.google.com/maps?q="+c.address1+"+"+c.city+"+"+c.state}function Z(b){"undefined"===typeof Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*Math.PI/180});if("undefined"===typeof I.p)return"";var c=parseFloat(b.latitude),d=parseFloat(I.p.latitude),e=parseFloat(b.longitude),
h=parseFloat(I.p.longitude);b=(d-c).toRad();e=(h-e).toRad();c=c.toRad();d=d.toRad();c=Math.sin(b/2)*Math.sin(b/2)+Math.sin(e/2)*Math.sin(e/2)*Math.cos(c)*Math.cos(d);c=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));c=parseInt(39587.56*c);return parseInt(c/10)+"."+c%10}function z(b){$.each(b,function(b,c){"undefined"===typeof c.dist&&(c.dist=Z(c))});return b.sort(function(b,c){return b.dist-c.dist})[0]}function la(b,c,d,e){b=b.getUserOffersResponse.offers;F.offerCount=b.length;var h=0,l=null;I.p&&$.each(b,
function(b,c){if(c.locations.length){var d=z(c.locations);c.dist=d.dist;d.dist<y.selectDist&&(++h,l=c)}});1==b.length?(F.offerDetail=escape(JSON.stringify(b[0])),history.pushState({},c,d),$("back-btn").hide(),I()):(b=b.sort(function(b,c){return b.dist&&c.dist?b.dist-c.dist:-1}),1==h?(F.offerDetail=escape(JSON.stringify(l)),history.pushState({},c,d),I()):($("#offer-list").html(""),$.each(b,function(b,c){var d="",e=escape(JSON.stringify(c)),d=d+('<div class="imglist"><a href="#" data-object="'+e+'" class="offer-details-btn clearfix">')+
'<span class="imgshado"></span><div class="lstimg">',d=d+('<img src="'+c.offerImageUrl+'" />'),d=d+"</a></div>",d=d+("<h3>"+c.merchantName+"</h3>");(e=z(c.locations))?(d+='<div class="opt-icon"><a href="'+G(c.merchantName,e)+'"><img class="website-img map-img" src="images/ic_map@2x.png">&nbsp;'+c.dist+" mi</a>",d+='<a href="'+c.merchantUrl+'"><img class="website-img" src="images/ic_web@2x.png" /></a>',d+='<a href="tel:'+e.phoneNumber+'"><img class="website-img" src="images/ic_phone@2x.png" /></a>'):
d+='<a href="'+c.merchantUrl+'"><img class="website-img" src="images/ic_web@2x.png" /></a>';d+="</div>";d+='<div class="ribn"><img src="images/ribncorn.png" class="crn">';e="";e=c.kikbakValue?"<span>Give</span>":"<span style='margin-top:40px;'>Give</span>";e+=c.giftDesc;c.kikbakValue?(d+='<div class="giv grd3">'+e+"</div>",d+='<img src="images/ribnaro.png">',d+='<div class="get"><span>Get</span>$'+c.kikbakValue+"</div>"):(d+='<div class="giv grd3" style="height:118px;">'+e+"</div>",d+='<img src="images/ribnaro.png">');
d+="</div></div>";$("#offer-list").append(d)}),$("#offer-view").show(""),$("#suggest-btn-div").show(""),$("#heading").html("Give"),$("#offer-btn-div").css("background",'url("img/btn_highlighted.png")'),0==b.length?$("#no-offer-list").show():$("#no-offer-list").hide(),$(".offer-details-btn").click(function(b){history.pushState({},c,d);b.preventDefault();F.offerDetail=$(this).attr("data-object");I()})))}function t(b){E(function(){ma(b)},function(){ma(b)})}function ma(b){$.ajax({dataType:"json",type:"GET",
contentType:"application/json",url:y.backend+"kikbak/v2/user/offer/0/"+b,success:function(c){$("#spinner h2").html("Waiting");la(c,"merchant-offer-detail","#merchant-"+b+"-offer")},error:x})}function aa(b,c,d){var e={};null!=c&&(e.longitude=y.longitude?y.longitude:c.longitude,e.latitude=y.latitude?y.latitude:c.latitude);c={};c.userLocation=e;e={};e.GetUserOffersRequest=c;e=JSON.stringify(e);$.ajax({dataType:"json",type:"POST",contentType:"application/json",data:e,url:y.backend+"kikbak/v2/user/offer/"+
b,success:function(b){$("#spinner h2").html("Waiting");la(b,"offer-detail","#offer-detail",d)},error:x})}function fa(){E(Ka)}function Ka(){var b=F.userId;if("undefined"!==typeof b&&null!==b&&""!==b){var c=JSON.stringify({RewardsRequest:{}});$.ajax({dataType:"json",type:"POST",contentType:"application/json",data:c,url:y.backend+"kikbak/rewards/request/"+b,success:function(b){ha();var c=b.rewardsResponse.gifts;b=b.rewardsResponse.credits;var d={},e={};$("#redeem-list").html("");$.each(c,function(b,
c){var e=c.merchant.id;d[e]?d[e].push(c):d[e]=[c]});$.each(b,function(b,c){var d=c.merchant.id;e[d]?e[d].push(c):e[d]=[c]});c={};b={};fa.counter=0;for(var k in d)P(d[k],e[k])&&(c[k]=1,fa.counter++,b.gift=d[k][0],e[k]&&(b.credit=e[k][0]));for(k in e)!c[k]&&P(d[k],e[k])&&(fa.counter++,b.credit=e[k][0]);$("#redeem-btn-div").css("background",'url("img/btn_highlighted.png")');$("#heading").html("Kikbak");$(".redeem-data-btn").click(function(b){b.preventDefault();b=jQuery.parseJSON(unescape($(this).attr("data-object")));
T(b)});$(".redeem-gift-btn").click(function(b){b.preventDefault();b=jQuery.parseJSON(unescape($(this).attr("data-object")));Aa(b)});$(".redeem-credit-btn").click(function(b){b.preventDefault();b=jQuery.parseJSON(unescape($(this).attr("data-object")));sa(b)});0==fa.counter?$("#no-redeem-list").show():$("#no-redeem-list").hide();1==fa.counter?T(b):$("#redeem-view").show("")},error:x})}}function T(b){if(b.gift)if(b.credit){$("#redeem-view").show("");var c=b.gift;b=b.credit;$("#friend-popup h1").html("");
var d=$("#friend-list"),e;e='<li class="frd-bx" >'+("<h2>"+c.desc+"</h2>");c=escape(JSON.stringify(c));d.append(e+('<a href="#" class="nxtt" id="redeem-gift-shortcut" data-object="'+c+'"><img width="11" height="18" src="images/nxt-aro.png"></a></li>'));e='<li class="frd-bx" >'+("<h2>"+b.desc+"</h2>");c=escape(JSON.stringify(b));e+='<a href="#" class="nxtt" id="redeem-credit-shortcut" data-object="'+c+'"><img width="11" height="18" src="images/nxt-aro.png"></a></li>';d.append(e);$("#redeem-gift-shortcut").click(function(b){b.preventDefault();
b=jQuery.parseJSON(unescape($(this).attr("data-object")));Aa(b)});$("#redeem-credit-shortcut").click(function(b){b.preventDefault();b=jQuery.parseJSON(unescape($(this).attr("data-object")));sa(b)});$("#friend-popup").show()}else Aa(b.gift);else sa(b.credit)}function sa(b){F.creditDetail=escape(JSON.stringify(b));history.pushState({},"redeem-credit-detail","#redeem-credit-detail");I()}function Aa(b){$("#friend-popup h1").html(b.desc);var c=$("#friend-list");c.html("");if(b&&1<b.shareInfo.length){$("#redeem-view").show("");
for(var d in b.shareInfo){var e=b.shareInfo[d],h='<li class="frd-bx" >',l={gift:b,shareInfo:e},l=escape(JSON.stringify(l)),h=h+('<a href="#" data-object="'+l+'" class="select-gift-btn">');e.fbFriendId&&(h+='<img class="avatar" src="https://graph.facebook.com/'+e.fbFriendId+'/picture?width=80&height=80">');h+="<h2>"+e.friendName+"</h2>";h+='<img width="11" height="18" class="nxtt" src="images/nxt-aro.png"></a></li>';c.append(h)}$("#friend-popup").show();$(".select-gift-btn").click(function(b){b.preventDefault();
$("#friend-popup").hide();F.giftDetail=$(this).attr("data-object");history.pushState({},"redeem-gift-detail","#redeem-gift-detail");I()})}else b&&(l={gift:b,shareInfo:b.shareInfo[0]},l=escape(JSON.stringify(l)),F.giftDetail=l,history.pushState({},"redeem-gift-detail","#redeem-gift-detail"),I())}function P(b,c){var d=c?c[0].merchant:b[0].merchant,e=c?c[0].imageUrl:b[0].defaultGiveImageUrl,h={};b&&(h.gift=b[0]);c&&(h.credit=c[0]);var l=escape(JSON.stringify(h)),h='<div class="rdem-bx"><div class="redeem">'+
('<a href="#" data-object="'+l+'" class="redeem-data-btn clearfix">')+'<span class="imgshado"></span>',h=h+'<div class="lstimg">',h=h+('<img class="redeem-background" src="'+e+'" />'),h=h+"</div>",h=h+"</a>",h=h+("<h3>"+d.name+'</h3><div class="opt-icon">');(l=z(d.locations))?(h+='<a href="'+G(d.name,l)+'><img class="website-img map-img" src="images/ic_map@2x.png" />&nbsp;'+(Z(l)+" mi")+"</a>",h+='<a href="'+d.url+'"><img class="website-img" src="images/ic_web@2x.png" /></a>',h+='<a href="tel:'+l.phoneNumber+
'"><img class="website-img" src="images/ic_phone@2x.png"  /></a>'):h+='<a href="'+d.url+'"><img class="website-img" src="images/ic_web@2x.png" /></a>';d=!1;h+='</div></div><div class="lst-dtl">';b&&(e=b[0],"barcode"===e.validationType&&(l=escape(JSON.stringify(e)),h+='<a href="#" data-object="'+l+'" class="redeem-gift-btn clearfix">',h+='<div class="lft-dtl'+(c?" lft-bdr":"")+'"><span>USE RECEIVED GIFT<h2>'+e.desc+"</h2></span>",h+='<img style="width:32px;height:32px;float:right;" src="https://graph.facebook.com/'+
e.shareInfo[0].fbFriendId+'/picture?width=80&height=80">',1<e.shareInfo.length&&(h+='<img src="images/actor-bk.png" class="actbrd">'),h+="</div>",h+="</a>",d=!0));c&&(e=c[0],"gift_card"===e.rewardType&&(l=escape(JSON.stringify(e)),h+='<a href="#" data-object="'+l+'" class="redeem-credit-btn clearfix">',h+='<div class="rit-dtl"><span>CLAIM REWARD</span><h2>'+e.desc+"</h2></div>",h+="</a>",d=!0));h+="</div>";h+="</div>";return d?($("#redeem-list").append(h),!0):!1}function R(){if(0!==""){var b=jQuery.parseJSON(unescape(F.offerDetail));
ua(b);$("#back-btn").unbind();$("#back-btn").click(function(b){b.preventDefault();history.pushState({},"offer-list","#offer-list");I()});$("#accept-btn").click(function(b){b.preventDefault();e()});$("#share-btn").click(function(b){b.preventDefault();$("#accepted").show();$("#zipcode-div").hide();$("#register-div").show();$("#pre-share-popup").show()});$("#comment-input").on("focus",function(){ga("send","event","share","click","add comment");$(".popup").hide();$("#comment-input").unbind("focus");$("#comment-input").focus()});
$(".popup").hide();b=$("#take-picture");b.show();b.change(function(b){ga("send","event","share","click","take picture");$(".sharebtn").attr("disabled","disabled");var c=$(".camicon"),d=b.target.files;b=$("#crop-image-div .tkpoto img")[0];var e=window.URL?window.URL:window.webkitURL;b&&b.src&&e.revokeObjectURL(b.src);$("#crop-image-div .tkpoto").html('<img class="pht">');var h=this;setTimeout(function(){if(d&&0<d.length){var b=h.files[0];try{var k=new Image,l=e.createObjectURL(b);k.onload=function(b){setTimeout(function(){c.removeClass("camicon");
c.addClass("smallcamicon");$("#take-photo-header").hide();$("#heading").html("Resize image");$("#offer-details-view").hide();$("#crop-image-div").show();var b=$("#crop-image-div .tkpoto img");b.unbind("load");b.load(function(c){var d=window.innerWidth;c=window.innerHeight;var e,h,l,m,p,q=($("#share-image-add").height()-40)/d;b.Jcrop({boxWidth:d,boxHeight:c,bgColor:"black",bgOpacity:0.4,setSelect:[d-10,d*q-10,10,10],allowResize:!1,allowSelect:!1,onChange:function(b){h=b.x;l=b.y;m=b.w;p=b.h}},function(){e=
this;$("#crop-image").unbind("click");$("#crop-image").click(function(b){var c=document.createElement("canvas"),s=c.getContext("2d");c.setAttribute("width",m);c.setAttribute("height",p);var r=k.width/parseInt(d);s.drawImage(k,h*r,l*r,m*r,p*r,0,0,d,d*q);k=null;c=c.toDataURL("image/jpeg");$("#show-picture").attr("src",c);b.preventDefault();$(".sharebtn").removeAttr("disabled");e.destroy();e=null;$("#crop-image-div").hide();$("#offer-details-view").show();$(".imgshado").css("height","50%");$(".imgshado").css("top",
"50%")})})});b.attr("src",l)},500)};k.src=l}catch(m){console.log(m),alert("Unsupported browser")}}},50)})}}function N(){var b=F.userId;"undefined"!==typeof b&&null!==b&&""!==b&&(b=jQuery.parseJSON(unescape(F.giftDetail)),D(b),$("#back-btn").unbind(),$("#back-btn").click(function(b){b.preventDefault();window.history.back()}))}function ta(){var b=F.userId;"undefined"!==typeof b&&null!==b&&""!==b&&(b=jQuery.parseJSON(unescape(F.creditDetail)),Ba(b),$("#back-btn").unbind(),$("#back-btn").click(function(b){b.preventDefault();
window.history.back()}))}function ua(b){var e=O[b.auth?b.auth:"none"];$("#pre-share-detail").html(e.login_div);e.handler_register();Ea(b);$(".share-channel").click(function(b){d($(this).attr("data-channel"));b.preventDefault()});$("#pre-share-popup input").keyup(c);W=b;e="";ga("send","event","share","show","give "+b.merchantName);var e=e+'<div id="share-after-login-div"><form onsubmit="return false;" id="share-form" type="POST" enctype="multipart/form-data" style="margin-bottom:0px;">',e=e+('<div id="share-image-add" class="image-add"><img src="'+
b.merchantLogoUrl+'" class="addimg add-photo show-picture" id="show-picture">'),e=e+'<span class="imgshado"></span>',e=e+'<div class="add-photo-btn">',e=e+'<h2 id="take-photo-header">Add your own photo</h2>',e=e+'<div class="camicon"><img src="images/camicon.png">',e=e+'<input name="source" type="file" id="take-picture" class="camicon take-picture" style="height:60px;width:100%;opacity:0;display:none;top:0;" accept="image/*" />',e=e+"</div>",e=e+"</div>",e=e+'<div class="merchantname">',e=e+("<h3>"+
b.merchantName+"</h3>"),e=e+"</div>",e=e+'<div class="opt-icon">',h=z(b.locations);h?(b.dist&&(e+='<a href="'+G(b.merchantName,h)+'" style="margin-right:10%;"><img class="website-img map-img" src="images/ic_map@2x.png" />&nbsp;'+b.dist+" mi </a>"),e+='<a href="'+b.merchantUrl+'"><img class="website-img" src="images/ic_web@2x.png" /></a>',e+='<a href="tel:'+h.phoneNumber+'"><img class="website-img" src="images/ic_phone@2x.png" /></a>'):e+='<a href="'+b.merchantUrl+'"><img class="website-img" src="images/ic_web@2x.png" /></a>';
e+="</div>";e+='<input name="comment" id="comment-input" placeholder="Comment about the offer..." class="addcmt" style="width:91%;height:25px"/>';e+="</div>";b.kikbakDesc?(e+='<div class="gv">',e+='<h2><img src="images/ic_gift@2x.png" height="19px" width="18px" />',e+="Give "+b.giftDesc+"</h2>",e+='<h4><a href="" class="term-btn">See details</a></h4>',e+="</div>",e+='<div class="crt">',e+='<h2><img width="19px" src="images/ic_give_trophy.png" />Get a $50 prepaid debit card</h2>',e+='<div id="pre-accepted">',
e+='<span style="margin-left:20px;font-size:10px;">I agree to the <a href="" class="term-btn">Terms and Conditions</a> and the Kikbak <a href="" class="privacy-btn">Privacy Policy</a>.</span>',h=new Date(b.beginDate+10368E6),h="Jan Feb Mar Apr May June July Aug Sep Oct Nov Dec".split(" ")[h.getMonth()-1]+" "+h.getDate()+", "+h.getFullYear(),e+='<p style="font-size:12px">Offer expires ['+h+"]</p>",e+='<input id="accept-btn" name="share" type="button" class="btn grd-btn sharebtn" value="I accept" />',
e+='<a href="#" class="trm privacy-btn" style="margin:0;">Privacy Policy</a>',e+="</div>",e+="</div>",$("#congrats").html("Congratulations \u2013 now share your offer \u2013 and get a $50 prepaid  debit card<br />Offer expires "+h+'<br /><a href="" class="term-btn">See details</a>')):(e+='<div class="gv gv-only">',e+='<h2><img src="images/ic_gift@2x.png" />',e+="Give "+b.giftDesc+"</h2>",e+="<h4>"+b.giftDetailedDesc+"</h4>",e+="</div>");e+='<div id="accepted" style="display:none;">';e+='<div class="crt" style="margin:0 2%;">';
e+='<a href="#" class="trm term-btn" >&nbsp;Terms and Conditions</a>';e+='<a href="#" class="trm privacy-btn" style="float:right">Privacy Policy</a>';e+="</div>";e+='<input id="share-btn" name="share" type="button" class="btn grd-btn sharebtn" value="Give to Friends" />';e+="</div>";e+="</form>";e+="</div>";$("#offer-details-view").html(e);b.kikbakDesc||(e=$("#share-image-add"),e.height(Math.max(e.height()+25,e.width())));$(".term-btn").click(function(c){c.preventDefault();na(b.tosUrl)});$(".privacy-btn").click(function(b){b.preventDefault();
na("/data/privacy.html")});$("#offer-details-view").show("");$("#back-btn-div").hide("");$("#heading").html("Give");1<F.offerCount&&$("#back-btn-div").show("");$(".popup").css("min-height",$(document).height())}function Ea(b){I.p?(z(b.locations),U(b)):E(function(){z(b.locations);U(b)},function(){U(b)})}function U(b){b.locations.sort(function(b,c){return b.dist&&c.dist?b.dist-c.dist:-1});var c="",d=!1;$.each(b.locations,function(e,h){var l="";0===e&&(h.dist&&h.dist<y.selectDist||1===b.locations.length?
l=" selected":c+='<option value="false">Suggest a nearby store</options>');h.dist&&h.dist<y.nearDist&&(d=!0,c+='<option value="'+h.locationId+'" '+l+">"+h.address1+(h.address2?" "+h.address2:"")+", "+h.city+"</option>")});$("#location-sel").html(c);1===b.locations.length?$("#share-locaition-div").hide(""):$("#share-locaition-div").show("");d?($("#location-sel-div").show(),$("#location-input-div").hide()):($("#location-sel-div").hide(),$("#location-input-div").show());b.hasEmployeeProgram?$("#share-employee-div").show():
$("#share-employee-div").hide()}function na(b){$("#terms iframe").attr("src",b);$("#terms").show()}function ya(){var b=F.userId;$('#suggest-form input[name="suggest"]').attr("disabled","disabled");if("undefined"!==typeof b&&null!==b&&""!==b){var c=new FormData,d=$("#take-picture-suggest")[0].files[0];c.append("file",d);c.append("userId",b);$.ajax({url:y.backend+"/suggest/upload.php",data:c,processData:!1,cache:!1,contentType:!1,dataType:"json",type:"POST",success:function(b){b&&b.url?ra(b.url):x()},
error:x})}}function ra(b){var c=F.userId;if("undefined"!==typeof c&&null!==c&&""!==c){var d={};d.business_name=$('#suggest-form input[name="name"]').val();d.why=$('#suggest-form input[name="reason"]').val();d.image_url=b;b={};b.business=d;d={};d.SuggestBusinessRequest=b;d=JSON.stringify(d);$.ajax({url:y.backend+"kikbak/suggest/business/"+c,dataType:"json",type:"POST",contentType:"application/json",data:d,success:function(b){history.pushState({},"offer","#offer");I()},error:x})}}function La(b,c){for(var d=
atob(b.split(",")[1]),e=[],h=0;h<d.length;h++)e.push(d.charCodeAt(h));return new Blob([new Uint8Array(e)],{type:c})}function ea(b){var c=W,d=F.userId,e=$("#share-form .image-add img").attr("src");c.sharedImageUrl=e;if($("#take-picture")[0].files&&0!=$("#take-picture")[0].files.length){var h=new FormData,l=new Image,e=$("#show-picture");l.onload=function(){var e=l.height,m=l.width,q=document.createElement("canvas");q.setAttribute("width",m);q.setAttribute("height",e);q.getContext("2d").drawImage(l,
0,0,m,e);e=q.toDataURL("image/jpeg");h.append("file",La(e,"image/jpeg"));h.append("userId",d);$.ajax({url:y.backend+"/s/upload.php",data:h,processData:!1,cache:!1,contentType:!1,dataType:"json",type:"POST",success:function(d){d&&d.url&&(c.sharedImageUrl=d.url);b()},error:function(){b()}})};l.src=e.attr("src")}else b()}function Y(b){ga("send","event","share","click","facebook auth");FB.login(function(c){"connected"===c.status?(ga("send","event","share","click","facebook auth success"),b?(b(c.authResponse),
L.cb=b(c.authResponse)):w(c.authResponse.accessToken)):(ga("send","event","share","click","facebook auth failure"),FB.login())},{scope:"email,read_friendlists,publish_stream,publish_actions"})}function D(b){var c=b.gift;b=b.shareInfo;var d;d=""+('<div class="image-add rdme"><img src="'+b.imageUrl+'" class="addimge"><span class="imgshado"></span>');d+="<h3>"+c.merchant.name+"</h3>";d+='<div class="opt-icon">';var e=z(c.merchant.locations),h=0;e?(h=Z(e),d+='<a href="'+G(c.merchant.name,e)+'"><img src="images/ic_map@2x.png" />&nbsp;'+
h+" mi</a>",d+='<a href="'+c.merchant.url+'"><img class="website-img" src="images/ic_web@2x.png" /></a>',d+='<a href="tel:'+e.phoneNumber+'"><img class="website-img" src="images/ic_phone@2x.png" /></a>'):d+='<a href="'+c.merchant.url+'"><img class="website-img" src="images/ic_web@2x.png" /></a>';e&&h<y.selectDist?za(c):(d+='</div></div><div class="gvrdm">',d+='<img width="40" height="40" src="https://graph.facebook.com/'+b.fbFriendId+'/picture?width=80&height=80">',d+='<div class="avtr-cmnt">',d+=
"<h2>"+b.friendName+"</h2>",d+="<h2>"+b.caption+"</h2>",d+="</div></div>",d+='<div class="gvrdm-botm-patrn"></div>',d+='<div class="crt">',d+="<h2>"+c.desc+"</h2>",d+="<h4>"+c.detailedDesc+"</h4>",d+='<div class="crt">',d+='<a href="#" class="trm" class="term-btn" >Terms and Conditions</a>',d+="</div>",d+='<button id="redeem-gift-instore-btn" class="btn grd-btn botm-position">Redeem now in store</button>',$("#redeem-details-view").html(d),$(".term-btn").click(function(b){b.preventDefault();na(c.tosUrl)}),
$("#redeem-gift-instore-btn").click(function(b){b.preventDefault();h>y.selectDist?alert("Oops! You have to be in the store to redeem.\n\nLooks like you might not be there yet. Try again?"):za(c)}),$("#redeem-details-view").show(""),1<fa.counter&&$("#back-btn-div").show(""),$("#heading").html("Redeem"))}function za(b){$.ajax({dataType:"json",type:"GET",contentType:"application/json",url:y.backend+"kikbak/rewards/allocateBarcode/"+F.userId+"/"+b.shareInfo[0].allocatedGiftId+"/",success:function(c){c&&
c.barcodeResponse&&c.barcodeResponse.code?(c=y.backend+"kikbak/rewards/generateBarcode/"+F.userId+"/"+c.barcodeResponse.code+"/100/200/",$("#redeem-gift-success .pg-hedng").html(b.merchant.name),$("#redeem-gift-success .cd-br-stin h1").html(b.desc),$("#redeem-gift-success .cd-br-stin h3").html(b.detailedDesc),$("#redeem-gift-success img").attr("src",c),$("#redeem-details-view").hide(),$("#redeem-gift-success").show()):alert("Sorry, we are currently running out of gift. It will be available soon. Please try later.")},
error:function(){alert("Sorry, we are currently running out of gift. It will be available soon. Please try later.")}});$("#redeem-gift-success .pg-hedng").html(b.merchant.name);$("#redeem-gift-success .cd-br-stin h1").html(b.desc);$("#redeem-gift-success .cd-br-stin h3").html(b.detailedDesc);$("#redeem-gift-success img").attr("src",imgUrl);$("#redeem-details-view").hide();$("#redeem-gift-success").show()}function Ba(b){var c;c=""+('<div class="image-add rdme"><img src="'+b.imageUrl+'" class="addimge" style="height:100%;"><span class="imgshado"></span>');
c+="<h3>"+b.merchant.name+"</h3>";b.redeemedGiftsCount||(b.redeemedGiftsCount=1);c+='<div class="msgg">Your gift has been redeemed by '+b.redeemedGiftsCount+" friend"+(1<b.redeemedGiftsCount?"s":"")+"</div>";c+='</div><div class="gv">';c+='<p style="margin-bottom:0;">You have a reward ready to be claimed!</p>';c+="</div>";c+='<div class="crt">';c+="<h1>$"+b.value.toFixed(2)+"</h1>";"gift_card"==b.rewardType&&(c+="<h5>Gift Card</h5>");c+='<a href="#" class="trm" class="term-btn">Terms and Conditions</a>';
c+="</div>";c+='<button id="claim-credit-form-btn" class="btn grd-btn botm-position">Claim reward now</button>';$("#redeem-details-view").html(c);$(".term-btn").click(function(c){c.preventDefault();na(b.tosUrl)});$("#claim-credit-form-btn").click(function(c){c.preventDefault();ca(b)});$("#redeem-details-view").show("");1<fa.counter&&$("#back-btn-div").show("");$("#heading").html("Redeem")}function ca(b){$("#redeem-details-view").hide();$("#claim-credit-form .pg-hedng").html(b.merchant.name);$("#claim-credit-form .hedng h1").html("$"+
b.value);"gift_card"==b.rewardType&&$("#claim-credit-form .hedng h3").html("Gift Card");$('#claim-credit-form input[name="creditId"]').val(b.id);$("#claim-credit-btn").attr("disabled","disabled");$("#claim-credit-div").show();$("#back-btn").unbind();$("#back-btn").click(function(b){b.preventDefault();window.history.back()})}function V(){var b=navigator.userAgent;return"iPhone"!=navigator.platform&&"iPod"!=navigator.platform||-1==b.indexOf("Safari")?"other":"Safari"}function ia(){""!=$('#suggest-form input[name="name"]').val().replace(/^\s+|\s+$/g,
"")&&""!=$('#suggest-form textarea[name="reason"]').val().replace(/^\s+|\s+$/g,"")&&$("#take-picture-suggest")[0].files&&0<$("#take-picture-suggest")[0].files.length?$('#suggest-form input[name="suggest"]').removeAttr("disabled"):$('#suggest-form input[name="suggest"]').attr("disabled","disabled")}(function(b,c,d,e,h,l,m){b.GoogleAnalyticsObject=h;b[h]=b[h]||function(){(b[h].q=b[h].q||[]).push(arguments)};b[h].l=1*new Date;l=c.createElement(d);m=c.getElementsByTagName(d)[0];l.async=1;l.src=e;m.parentNode.insertBefore(l,
m)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-45251651-1");ga("send","pageview");var L={},ja={},W={},O={facebook:{login_div:'<div id="login-div"><h3>Create your offer</h3><div id="location-sel-div"><select id="location-sel" class="location-sel"></select></div><input id="employeeId-input" class="location-sel" type="text" name="employeeId" placeholder="Employee name [optional]" /><input id="share-btn-fb" name="share" type="button" class="fb-share" value="       Connect with Facebook" /><p>We use Facebook to personalize your offers and notify you via email when friends redeem them. <b>We will never post without your permission.</b></p></div>',
handler_register:function(){e.valid=!0;$("#share-btn-fb").click(function(){L.status="share-login";Y(function(b){r(b);q()})})}},phone:{login_div:'<div id="login-div"><div id="zipcode-div"><h3>Confirm Eligibility</h3><div style="text-align: left; font-size: 14px; margin-bottom: 20px;" id="zipcode-note">To participate in this program you must be a current Verizon customer with your billing address in one of the following states: AL, AR, FL, GA, LA, MS, NC, OK, SC, TN, TX. If your billing address is not in a qualifying state you may share this offer with friends but you will not be eligible to earn rewards.</div><input id="zipcode-input" type="text" onfocus="this.type=\'number\'" onblur="this.type=\'text\'" class="required" name="zipcode" placeholder="Your billing zip code"><button id="zipcode-btn" class="btn grd-btn" disabled="disabled" >Submit</button></div><div id="zipcode-invalid-div" style="display:none"><span style="font-size: 16px;color:red; margin:50px 0 50px;">Your billing address is not in a qualifying state.  You may share this offer with friends but you will not be eligible to earn rewards.</span><button id="invalid-zipcode-btn" class="btn grd-btn" >Done</button></div><div id="register-div" style="display:none"><h3>Register</h3><input id="username-input" type="text" class="required" placeholder="Your name" name="username" /><input id="email-input" type="email" class="required" placeholder="Your email" name="email" /><button id="login-email" class="share-btn btn grd-btn" disabled="disabled" >Submit</button><hr><span> OR </span><input id="share-btn-fb" name="share" type="button" class="fb-share" style="width:88%;margin:0;height:35px;" value="       Connect with Facebook" /><p>We use Facebook to personalize your offers and notify you via email when friends redeem them. <b>We will never post without your permission.</b></p></div></div><div id="create-share-div" style="display:none"><h3>Create your offer</h3><input type="text" onfocus="this.type=\'tel\'" onblur="this.type=\'text\'" id="phone-input" placeholder="Verizon Wireless Phone Number" /><div id="location-sel-div" style="display:none;"><select id="location-sel" class="location-sel"></select></div><div id="location-input-div" style="display:none;"><input type="text" id="location-input" class="location-sel" placeholder="Store ID [optional]" /></div><input id="employeeId-input" class="location-sel" type="text" name="employeeId" placeholder="Suggest an employee [optional]" /><button id="create-share-btn" class="share-btn btn grd-btn" disabled="disabled" >Create offer to share</button></div>',
handler_register:function(){e.valid=!1;$("#share-btn-fb").click(function(){L.status="share-login";Y(function(b){r(b);$("#phone-input").addClass("required");h()})});$("#login-email").click(function(){var b=$("#email-input"),c=b.val();v(c)?($("#phone-input").addClass("required"),h()):b.css("border","2px solid red")});$("#create-share-btn").click(q)}},none:{login_div:'<div id="login-div"><h3>Register</h3><input id="username-input" type="text" class="required" placeholder="Your name" name="username" /><input id="email-input" type="email" class="required" placeholder="Your email" name="email" /><button id="login-email" class="share-btn btn grd-btn" disabled="disabled" >Submit</button><hr><span> OR </span><input id="share-btn-fb" name="share" type="button" class="fb-share" style="width:88%;margin:0;height:35px;" value="       Connect with Facebook" /><p>We use Facebook to personalize your offers and notify you via email when friends redeem them. <b>We will never post without your permission.</b></p></div><div id="create-share-div" style="display:none"><h3>Create your offer</h3><div id="location-sel-div"><select id="location-sel" class="location-sel"></select></div><input id="employeeId-input" class="location-sel" type="text" name="employeeId" placeholder="Employee name [optional]" /><button id="create-share-btn" class="share-btn btn grd-btn" disabled="disabled" >Create offer to share</button></div>',
handler_register:function(){e.valid=!0;$("#share-btn-fb").click(function(){L.status="share-login";Y(function(b){r(b);h()})});$("#login-email").click(function(){var b=$("#email-input"),c=b.val();v(c)?h():b.css("border","2px solid red")});$("#create-share-btn").click(q)}}};window.mobilecheck=function(){var b=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))b=!0;return b};var va=window.location.hash;window.mobilecheck()||(0===va.indexOf("#merchant-")?window.location.href="/d/"+va:(alert("The offer is only available on mobile now. The desktop version is coming soon. Please visit kikbak.me for now"),window.location.href="https://kikbak.me"));var y={backend:"",appId:493383324061333,selectDist:0.5,nearDist:20},F=Storage?localStorage:{};$(document).ready(function(){$("body").show();var b=window.location.hash;0===b.indexOf("#merchant-")?(b=b.split("-",
2),history.pushState({},"merchant",b[0]+"-"+b[1])):"#offer-detail"===b?history.pushState({},"offer","#offer"):"#redeem-gift-detail"===b?history.pushState({},"redeem","#redeem"):"#redeem-credit-detail"===b&&history.pushState({},"redeem","#redeem");$(document).ajaxStart(function(){$("#spinner").show()});$(document).ajaxStop(function(){$("#spinner").hide()});$("body").scrollTop($(document).height());$.ajaxSetup({cache:!0});$.getScript("//connect.facebook.net/en_US/all.js",function(){window.fbAsyncInit=
K});$(".offer-btn").click(function(b){b.preventDefault();history.pushState({},"offer","#offer");I()});$(".redeem-btn").click(function(b){b.preventDefault();history.pushState({},"redeem","#redeem");I()});$(".suggest-btn").click(function(b){b.preventDefault();history.pushState({},"suggest","#suggest");I()});$(".offer-list-btn").click(function(b){b.preventDefault();history.pushState({},"offer","#offer");I()});$('#suggest-form input[name="name"]').bind("keyup",ia);$('#suggest-form textarea[name="reason"]').bind("keyup",
ia);$("#close-term").click(function(b){b.preventDefault();$("#terms").hide()});$(".popup-close-btn").click(function(b){b.preventDefault();$(".popup").hide()});$('#suggest-form input[name="suggest"]').click(function(b){b.preventDefault();ya()});$('#suggest-form input[name="source"]').change(function(b){if((b=b.target.files)&&0<b.length){b=b[0];try{var c=(window.webkitURL||window.URL).createObjectURL(b);$("#show-picture-suggest").attr("src",c);$("#add-photo-suggest").hide()}catch(d){try{var e=new FileReader;
e.onload=function(b){$("#show-picture-suggest").src=b.target.result};e.readAsDataUrl(b)}catch(h){alert("Unsupported browser")}}}ia()});$("#claim-credit-form input").bind("keyup",function(){var b=$("#claim-credit-form"),c=!0;$.each(b.serializeArray(),function(){""==this.value.replace(/^\s+|\s+$/g,"")&&(c=!1)});c?$("#claim-credit-btn").removeAttr("disabled"):$("#claim-credit-btn").attr("disabled","disabled")});$("#claim-credit-btn").click(function(b){b.preventDefault();var c={};b=$("#claim-credit-form");
$.each(b.serializeArray(),function(){c[this.name]=this.value});b=!1;for(var d in keys){var e=keys[d];/^\d+$/.test(c[e].replace(/^\s+|\s+$/g,""))?(c[e]=c[e].replace(/^\s+|\s+$/g,""),$('#claim-credit-form input[name="'+e+'"]').css("border","1px solid gray")):(b=!0,$('#claim-credit-form input[name="'+e+'"]').css("border","2px solid red"))}if(b)$("#claim-credit-form h3").html("Sorry, the information you entered is not recognized as valid.<br />Please ensure that is accurate and try again.");else return $("#claim-credit-form h3").html("Please provide the following to redeem:"),
d={},d.claim=c,b={},b.ClaimCreditRequest=d,d=JSON.stringify(b),$.ajax({dataType:"json",type:"POST",contentType:"application/json",data:d,url:y.backend+"kikbak/rewards/claim/"+F.userId+"/",success:function(b){$("#success-popup h1").html("Success!");$("#success-popup h3").html("<br>Your reward claim has been submitted");$("#success-popup p").html("");$("#success-popup").show()},error:x}),!1});window.addEventListener("orientationchange",function(){window.scrollTo(0,1)})})})();
